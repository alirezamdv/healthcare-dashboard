(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-monitoring"],{"05e3":function(t,e,a){},"0a4e":function(t,e,a){"use strict";a("05e3")},"8a46":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"pb-8 pt-5 pt-md-8",staticStyle:{"background-color":"#dbe5f3"},attrs:{type:""}},[a("critical-table")],1),a("div",{staticClass:"container-fluid mt-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("patients-table",{attrs:{title:"Hospitalized Patients",showPatients:"with admission"}})],1)])])],1)},i=[],n=a("b7f9"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.criticalReports?a("div",[a("div",{staticClass:"row"},t._l(t.tableData,(function(e){return a("div",{key:e.patient,staticClass:"col-xl-3 col-lg-6"},[a("router-link",{attrs:{to:"/patients/"+e.patient}},[a("stats-card",{staticClass:"mb-4 mb-xl-0 bg-danger text-white mt-xl-5",attrs:{type:"white",title:e.status,"sub-title":t.patientName(e.patient),icon:"fa fa-exclamation-triangle  text-default"}},[a("template",{slot:"footer"},[a("span",{staticClass:"text-white mr-2",attrs:{title:"Fever and Pulse"}},[a("i",{staticClass:"fa fa-thermometer-three-quarters mr-1",attrs:{title:"Fever"}}),t._v(" "+t._s(e.fever)+" °C "),a("i",{staticClass:"fa fa-heart ml-3 mr-1",attrs:{title:"Pulse"}}),t._v(" "+t._s(e.pulse))])])],2)],1)],1)})),0),a("div",{staticClass:"card mt-5"},[a("div",{staticClass:"card-header border-0"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col"},[a("h3",{staticClass:"mb-0"},[t._v("Critical Patients "),a("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Table shows all patients marked with the status attribute critical.",expression:"'Table shows all patients marked with the status attribute critical.'",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle text-muted"})]),t.showWardFilter?a("div",{staticClass:"row ml-3 mt-3"},[a("base-checkbox",{attrs:{checked:t.showWard},on:{input:t.checkShowWard}}),t._v(" Display only from ward "),t.showWard?a("select",{staticClass:"ml-2",domProps:{value:t.ward},on:{input:t.selectWard}},t._l(t.wards,(function(e,s){return a("option",{key:s},[t._v(t._s(e))])})),0):t._e()],1):t._e()])])]),a("div",{staticClass:"table-responsive"},[a("base-table",{attrs:{"thead-classes":"thead-light",data:t.filteredSortedPatientData},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("th",{attrs:{scope:"row"}},[a("router-link",{attrs:{to:"/patients/"+s.patient}},[t._v(t._s(s.patient)+" ")])],1),a("td",[t._v(" "+t._s(t.patientName(s.patient))+" ")]),a("td",{staticClass:"text-danger"},[t._v(" "+t._s(s.fever)+" °C ")]),a("td",{staticClass:"text-danger"},[t._v(" "+t._s(s.pulse)+" ")]),a("td",{staticClass:"text-danger"},[t._v(" "+t._s(s.monitoring_interval)+" ")]),a("td",[a("i",{staticClass:"fas fa-circle text-success mr-3",class:"ok"===s.status?"text-success":"text-danger"})]),a("td",[a("router-link",{attrs:{to:"/patients/"+s.patient}},[a("base-button",{staticClass:"btn btn-sm",attrs:{icon:"fas fa-chart-bar",type:"primary"},on:{click:function(t){s.patient}}},[t._v(" Patient Report ")])],1)],1)]}}],null,!1,1271628372)},[a("template",{slot:"columns"},[a("th",[t._v("ID")]),a("th",[t._v("Patient")]),a("th",[t._v("Fever")]),a("th",[t._v("Pulse")]),a("th",[t._v("Monitoring Interval")]),a("th",[t._v("Status")]),a("th",[t._v("Report "),a("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"See/Edit Patient Report",expression:"'See/Edit Patient Report'",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle"})])])],2)],1)])]):t._e()},o=[],l=(a("4de4"),a("2909")),c=a("5530"),d=a("2f62"),u={name:"critical-table",props:{showWardFilter:{type:Boolean,default:!1}},created:function(){this.tableData=this.criticalReports},data:function(){return{modal0:!1,tableData:[]}},methods:{notify:function(t,e){this.$notify({title:t,message:e,type:"warning",closeOnClick:!1,timeout:5e4,icon:"fa fa-exclamation-triangle"})},patient:function(t){return this.$store.getters.getPatientById(t)},patientName:function(t){return this.$store.getters.patientNameById(t)}},beforeDestroy:function(){clearInterval(this.criticalReports)},computed:Object(c["a"])(Object(c["a"])({},Object(d["b"])(["criticalReports","showWard","ward","wards"])),{},{filteredSortedPatientData:function(){var t=this;return Object(l["a"])(this.tableData).filter((function(e){return!t.isFilteringByWard||!t.showWard||e.patient%t.selected==0}))}}),watch:{criticalReports:function(){this.tableData=this.criticalReports}}},p=u,h=a("2877"),m=Object(h["a"])(p,r,o,!1,null,null,null),v=m.exports,f={name:"tables",components:{PatientsTable:n["a"],CriticalTable:v}},w=f,b=Object(h["a"])(w,s,i,!1,null,null,null);e["default"]=b.exports},b7f9:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header border-0"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col"},[a("h3",{staticClass:"row ml-0"},[t._v(t._s(t.title)+" "),t.showOnlyCurrentPatients?a("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Table shows all currently active patients. As soon as a patient is provided with a dismissal date the patient is moved to the dismissed patients table.",expression:"'Table shows all currently active patients. As soon as a patient is provided with a dismissal date the patient is moved to the dismissed patients table.'",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle text-muted"}):t.showOnlyPatientsWithoutDiagnosis?a("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"TODO",expression:"'TODO'",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle text-muted"}):t.showOnlyPatientsHavingAdmissionDate?a("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Table shows all patients that have an admission date.",expression:"'Table shows all patients that have an admission date.'",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle text-muted"}):a("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Table shows all dismissed patients as soon as a dismissal date is set.",expression:"'Table shows all dismissed patients as soon as a dismissal date is set.'",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle text-muted"})]),a("div",{staticClass:"row ml-0"},[t.showWardFilter?a("div",{staticClass:"col"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-0"},[a("base-checkbox",{attrs:{checked:t.showWard},on:{input:t.checkShowWard}})],1),a("div",{staticClass:"col-0"},[t._v(" Display only from ward ")]),a("div",{staticClass:"col-0"},[t.showWard?a("base-dropdown",{staticClass:"col",attrs:{menuClasses:"wards"},scopedSlots:t._u([{key:"title",fn:function(){return[a("base-button",{staticClass:"dropdown-toggle",attrs:{type:"secondary",size:"sm"}},[t._v(" "+t._s(t.ward)+" ")])]},proxy:!0}],null,!1,3831257198)},t._l(t.wards,(function(e,s){return a("a",{key:s,staticClass:"dropdown-item",on:{click:function(a){return t.selectWard(e)}}},[t._v(" "+t._s(e)+" ")])})),0):t._e()],1)])]):t._e(),a("div",{staticClass:"col",staticStyle:{"text-align":"center","max-width":"100%"}},[t.showOnlyCurrentPatients?a("base-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Register a new Patient",expression:"'Register a new Patient'",modifiers:{hover:!0,top:!0}}],attrs:{type:"btn btn-sm btn-primary",icon:"fas fa-plus",size:"lg"},on:{click:function(e){t.patientModal=!0,t.newPatient=!0}}},[t._v("Register Patient ")]):t._e()],1)])]),a("div",[t.patientModal?a("register-patient-modal",{attrs:{show:t.patientModal,input:t.patientModalInput()},on:{"update:show":function(e){t.patientModal=e},close:t.onCloseModal}}):t._e()],1)])]),a("div",[a("div",{staticClass:"table-responsive"},[a("base-table",{attrs:{"thead-classes":"thead-light",data:t.filteredSortedPatientData},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return t.showPatient(s)?[a("th",{attrs:{scope:"row"}},[a("router-link",{attrs:{to:"/patients/"+s.id}},[t._v(t._s(s.id)+" ")])],1),a("td",[t._v(" "+t._s(s.first_name?s.first_name:t.defaultValue)+" ")]),a("td",[t._v(" "+t._s(s.last_name?s.last_name:t.defaultValue)+" ")]),a("td",[t._v(" "+t._s(s.gender?s.gender:t.defaultValue)+" ")]),a("td",[t._v(" "+t._s(s.age?s.age:t.defaultValue)+" ")]),a("td",[t._v(" "+t._s(s.admission_date?new Intl.DateTimeFormat("en-GB").format(new Date(s.admission_date)):t.defaultValue)+" ")]),a("td",[t.patientData.admission_date?[a("base-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Dismiss "+s.first_name+" "+s.last_name,expression:"'Dismiss ' + row.first_name + ' ' + row.last_name",modifiers:{hover:!0,top:!0}}],attrs:{type:"btn btn-sm btn-primary",icon:"fas fa-clock",size:"lg"},on:{click:function(e){return t.dismissPatient(s)}}})]:[t._v(" "+t._s(s.dismissal_date?new Intl.DateTimeFormat("en-GB").format(new Date(s.dismissal_date)):t.defaultValue)+" ")]],2),a("td",[a("base-button",{staticClass:"btn btn-sm",attrs:{icon:"fas fa-edit",type:"primary"},on:{click:function(e){t.initializePatientModal(s),t.edit=!0}}}),t.showDeletePatientButton?a("base-button",{staticClass:"btn btn-sm",attrs:{icon:"fas fa-trash-alt",type:"danger"},on:{click:function(e){return t.deletePatient(s.id)}}}):t._e()],1),a("td",[a("router-link",{attrs:{to:"/patients/"+s.id}},[a("base-button",{staticClass:"btn btn-sm",attrs:{icon:"fas fa-chart-bar",type:"primary"},on:{click:function(t){s.id}}},[t._v(" Patient Report ")])],1)],1)]:void 0}}],null,!0)},[a("template",{slot:"columns"},[a("th",{on:{click:function(e){return t.sort("id")}}},[a("up-down-arrow-switcher",{attrs:{value:t.showSortArrow("id")}}),t._v(" ID ")],1),a("th",{on:{click:function(e){return t.sort("first_name")}}},[a("up-down-arrow-switcher",{attrs:{value:t.showSortArrow("first_name")}}),t._v(" First Name ")],1),a("th",{on:{click:function(e){return t.sort("last_name")}}},[a("up-down-arrow-switcher",{attrs:{value:t.showSortArrow("last_name")}}),t._v(" Last Name ")],1),a("th",{on:{click:function(e){return t.sort("gender")}}},[a("up-down-arrow-switcher",{attrs:{value:t.showSortArrow("gender")}}),t._v(" Gender ")],1),a("th",{on:{click:function(e){return t.sort("age")}}},[a("up-down-arrow-switcher",{attrs:{value:t.showSortArrow("age")}}),t._v(" Age ")],1),a("th",{on:{click:function(e){return t.sort("admission_date")}}},[a("up-down-arrow-switcher",{attrs:{value:t.showSortArrow("admission_date")}}),t._v(" Admission ")],1),a("th",{on:{click:function(e){return t.sort("dismissal_date")}}},[a("up-down-arrow-switcher",{attrs:{value:t.showSortArrow("dismissal_date")}}),t._v(" Dismissal ")],1),t.showDeletePatientButton?a("th",[t._v("Edit/Delete "),a("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Edit/Delete Patient",expression:"'Edit/Delete Patient'",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle"})]):a("th",[t._v("Edit "),a("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Edit Patient",expression:"'Edit Patient'",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle"})]),a("th",[t._v("Report "),a("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"See/Edit Patient Report",expression:"'See/Edit Patient Report'",modifiers:{hover:!0,top:!0}}],staticClass:"far fa-question-circle"})])])],2)],1)])])},i=[],n=(a("4de4"),a("2909")),r=a("5530"),o=a("2f62"),l=a("ccf3"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null===t.value?a("div"):a("span",["ascending"===t.value?a("b-icon-arrow-down"):t._e(),"descending"===t.value?a("b-icon-arrow-up"):t._e()],1)},d=[],u=a("7386"),p={props:["value"],components:{BIconArrowUp:u["b"],BIconArrowDown:u["a"]}},h=p,m=a("2877"),v=Object(m["a"])(h,c,d,!1,null,null,null),f=v.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{show:t.patientModal},on:{close:function(e){return t.close()},"update:show":function(e){t.patientModal=e}}},[a("template",{slot:"header"},[t.newPatient?a("div",[a("h2",{staticClass:"modal-title"},[t._v("Patient registration")])]):a("div",[a("h2",{staticClass:"modal-title"},[t._v("Edit Patient")])])]),a("div",{staticClass:"row align-items-center text-left"},[a("div",{staticClass:"card col-md-12 mt-3"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row align-items-center"},[a("base-input",{staticClass:"col-md-6",attrs:{label:"First Name",required:""},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}}),a("base-input",{staticClass:"col-md-6",attrs:{label:"Last Name",required:""},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}}),a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"form-control-label"},[t._v("Hospital Number *")]),a("base-input",{attrs:{placeholder:"12345/67",required:""},scopedSlots:t._u([{key:"addonLeft",fn:function(){return[t._v("HN")]},proxy:!0}]),model:{value:t.hospital_number,callback:function(e){t.hospital_number=e},expression:"hospital_number"}})],1),a("div",{staticClass:"col-md-6"}),a("base-input",{staticClass:"col-md-6",attrs:{label:"Age"},model:{value:t.age,callback:function(e){t.age=e},expression:"age"}}),a("base-dropdown",{staticClass:"col-md-6",attrs:{label:"Gender"},scopedSlots:t._u([{key:"title",fn:function(){return[a("base-button",{staticClass:"dropdown-toggle",attrs:{type:"secondary"}},[a("span",{attrs:{"d-if":"!gender.length"}},[t._v(" "+t._s(t.gender)+" ")])])]},proxy:!0}])},[a("a",{staticClass:"dropdown-item",on:{click:function(e){t.gender="Male"}}},[t._v("Male")]),a("a",{staticClass:"dropdown-item",on:{click:function(e){t.gender="Female"}}},[t._v("Female")]),a("a",{staticClass:"dropdown-item",on:{click:function(e){t.gender="Other"}}},[t._v("Other")])])],1)])])]),a("template",{slot:"footer"},[a("div",{staticClass:"mr-auto"},[t._v("Fields marked with an "),a("strong",[t._v("*")]),t._v(" are required")]),a("base-button",{attrs:{type:"secondary"},on:{click:function(e){return t.close()}}},[t._v(" Close ")]),a("base-button",{attrs:{disabled:t.formIsInvalid,type:"primary"},on:{click:function(e){t.newPatient?t.registerPatient():t.editPatient()}}},[t._v(" "+t._s(t.newPatient?"Register patient":"Save changes")+" ")])],1)],2)},b=[],_=(a("ac1f"),a("466d"),a("2ca0"),{props:["input"],created:function(){var t;null!==(t=this.hospital_number)&&void 0!==t&&t.startsWith("HN")&&(this.hospital_number=this.hospital_number.substr(2))},data:function(){return Object(r["a"])({patientModal:!0,newPatient:null,first_name:null,last_name:null,hospital_number:null,age:null,gender:null},this.input)},computed:{formIsValid:function(){var t=!0;return this.first_name||(t=!1),this.last_name||(t=!1),this.hospitalNumberIsValid||(t=!1),t},formIsInvalid:function(){return!this.formIsValid},hospitalNumberWithPrefixHN:function(){return"HN"+this.hospital_number},hospitalNumberIsValid:function(){if(this.hospital_number){var t,e=/[H][N]\S{5}[/]\d{2}/g,a=null===(t=this.hospitalNumberWithPrefixHN)||void 0===t?void 0:t.match(e);return this.hospital_number&&a&&this.hospitalNumberWithPrefixHN===a[0]}return!1}},methods:{close:function(){this.$emit("close")},registerPatient:function(){var t={first_name:this.first_name,last_name:this.last_name,hospital_number:this.hospitalNumberWithPrefixHN,age:this.age,gender:this.gender};this.$store.dispatch("addPatient",t),this.close()},editPatient:function(){console.debug("editPatient");var t={first_name:this.first_name,last_name:this.last_name,gender:this.gender,age:this.age},e=this.id;this.$store.dispatch("editPatient",{id:e,patient:t}),this.close()}}}),g=_,P=Object(m["a"])(g,w,b,!1,null,null,null),C=P.exports,y={name:"patients-table",components:{UpDownArrowSwitcher:f,BaseButton:l["a"],RegisterPatientModal:C},props:{title:String,showPatients:String,showDeletePatientButton:Boolean,showWardFilter:{type:Boolean,default:!0}},data:function(){return{defaultValue:"-",datepicker:!1,patientModal:!1,newPatient:!0,patientId:null,edit:!1,first_name:null,last_name:null,gender:null,age:null,hospital_number:null,currentSort:"id",currentSortDir:"ascending"}},methods:{checkShowWard:function(t){this.$store.dispatch("showWard",t)},selectWard:function(t){this.$store.dispatch("ward",t)},displayOnlyFromward:function(t){console.log(t)},initializePatientModal:function(t){this.currentPatientToEdit=t,this.newPatient=!1,this.patientModal=!0},deletePatient:function(t){confirm("Do you really want to delete this Patient?")&&this.$store.dispatch("deletePatient",t)},dismissPatient:function(t){var e=t.id;this.$store.dispatch("dismissPatient",{id:e})},sort:function(t){t===this.currentSort?this.currentSortDir="ascending"===this.currentSortDir?"descending":"ascending":this.currentSortDir="ascending",this.currentSort=t},showSortArrow:function(t){return t===this.currentSort?this.currentSortDir:null},showPatient:function(t){return!!this.showOnlyPatientsWithoutDiagnosis||(!!this.showOnlyCurrentPatients||(!(!this.showOnlyDismissedPatients||!t.dismissal_date)||!(!this.showOnlyPatientsHavingAdmissionDate||!t.admission_date||t.dismissal_date)))},sortPatientData:function(){var t=this;return function(e,a){var s=1;return"descending"===t.currentSortDir&&(s=-1),e[t.currentSort]<a[t.currentSort]?-1*s:e[t.currentSort]>a[t.currentSort]?1*s:0}},onCloseModal:function(){this.patientModal=!1,this.currentPatientToEdit=null},patientModalInput:function(){return Object(r["a"])(Object(r["a"])({},this.currentPatientToEdit),{},{newPatient:this.newPatient})}},beforeDestroy:function(){clearInterval(this.patientData)},computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["patientData","patientsHavingNoDiagnosis","showWard","ward","wards"])),{},{showOnlyPatientsWithoutDiagnosis:function(){return"who need a diagnosis"===this.showPatients},showOnlyDismissedPatients:function(){return"that are dismissed"===this.showPatients},showOnlyCurrentPatients:function(){return"currently in the hospital"===this.showPatients},showOnlyPatientsHavingAdmissionDate:function(){return"with admission"===this.showPatients},patientsToDisplay:function(){return this.showOnlyPatientsWithoutDiagnosis?this.patientsHavingNoDiagnosis:this.patientData},filteredSortedPatientData:function(){var t=this;return Object(n["a"])(this.patientsToDisplay).filter((function(e){return!t.showWard||!t.showWardFilter||e.id%t.ward==0})).sort(this.sortPatientData())}})},D=y,k=(a("0a4e"),Object(m["a"])(D,s,i,!1,null,null,null));e["a"]=k.exports}}]);