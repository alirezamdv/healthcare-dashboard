(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-patients"],{"269d":function(e,t,a){"use strict";a("5aaf")},"396c":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"singlePatient"},[a("base-header",{staticClass:"pb-6 pb-8 pt-5 pt-md-8",staticStyle:{"background-color":"#dbe5f3"},attrs:{type:""}},[a("div",[a("modal",{attrs:{show:e.editModal},on:{"update:show":function(t){e.editModal=t}}},[a("template",{slot:"header"},[a("h2",{staticClass:"modal-title"},[e._v("DHF Prediction")]),a("br")]),a("section",{staticClass:"modal-body"},[e._t("body",[e._v(" Until the latest prediction model is integrated, we use placeholder values for almost all parameters needed. "),a("br"),e._v(" Only day 3 pulse and temperature is used. ")])],2),a("div",{staticClass:"mr-auto"},[a("strong",[e._v("Day 3 Pulse and Temperature ")]),e._v(" needs to be submitted. ")]),a("template",{slot:"footer"},[a("base-button",{attrs:{type:"secondary"},on:{click:function(t){e.editModal=!1}}},[e._v(" Close ")])],1)],2)],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-8 mb-5 mb-xl-0"},[a("h1",[e._v(e._s(e.patientData.first_name)+" "+e._s(e.patientData.last_name))]),e.patientData.admission_date||e.patientData.dismissal_date?e._e():a("h5",{staticClass:"text-uppercase text-muted"},[e._v(" Create Diagnosis to admit patient to the hospital. ")]),e.patientData.admission_date?a("h5",{staticClass:"text-uppercase text-muted"},[e._v(" (Admission: "+e._s(new Date(e.patientData.admission_date).toLocaleDateString("en-GB"))+") ")]):e._e(),e.patientData.dismissal_date?a("h5",{staticClass:"text-uppercase text-muted"},[e._v(" (Dismissal: "+e._s(new Date(e.patientData.dismissal_date).toLocaleDateString("en-GB"))+") ")]):e._e(),e.patientData.admission_date?a("base-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Dismiss "+e.patientData.first_name+" "+e.patientData.last_name,expression:"\n            'Dismiss ' + patientData.first_name + ' ' + patientData.last_name\n          ",modifiers:{hover:!0,top:!0}}],staticClass:"mb-5",attrs:{type:"btn btn-sm btn-primary",icon:"fas fa-clock",size:"lg"},on:{click:function(t){return e.dismissPatient(e.patientData)}}},[e._v("Dismiss Patient ")]):e._e(),"febrile"===this.status?a("base-alert",{attrs:{type:"success text-center"}},[a("i",{staticClass:"fa fa-exclamation-triangle mr-2"}),e._v(" Patient is in the febrile phase ")]):e._e(),"critical"===this.status?a("base-alert",{attrs:{type:"danger text-center"}},[a("i",{staticClass:"fa fa-exclamation-triangle mr-2"}),e._v(" Patient is in the critical phase ")]):e._e(),"recovery"===this.status?a("base-alert",{attrs:{type:"primary text-center"}},[a("i",{staticClass:"fa fa-exclamation-triangle mr-2"}),e._v(" Patient is in the recovery phase ")]):e._e()],1),a("div",{staticClass:"col-xl-4"},[a("card",{attrs:{"header-classes":"bg-transparent"}},[a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-4"},[a("h5",{staticClass:"h3 mb-0"},[e._v(" Dengue Probability: ")])]),a("div",{staticClass:"col-8"},[a("span",{staticClass:"btn btn-secondary btn-block",attrs:{disabled:""}},[a("span",{staticClass:"font-weight-bold text-monospace"},[e._v(e._s(e.dengue_probability)+" ")]),"Confirmed"==this.dengue_status?a("span",{staticClass:"badge badge-danger"},[e._v(" Dengue confirmed by doctor ")]):e._e(),"Suspected"==this.dengue_status?a("span",{staticClass:"badge badge-warning"},[e._v(" Dengue suspected by doctor ")]):e._e(),"Negative"==this.dengue_status?a("span",{staticClass:"badge badge-success"}):a("span",{staticClass:"badge badge-info"},[e._v(" No Dengue assessment by doctor ")])])])]),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-4"},[a("h5",{staticClass:"h3"},[e._v(" DHF Probability: ")])]),a("div",{staticClass:"col-8"},[a("a",{staticClass:"btn btn-secondary btn-block",attrs:{href:"#"},on:{click:function(t){e.editModal=!0}}},[a("span",{staticClass:"text-monospace"},[e._v(e._s(e.dhf_probability))]),a("br"),e._v(" DHF Details ")])])])])],1)])]),e.charts1?a("div",[a("div",{staticClass:"container-fluid mt--7"},[this.reportData?[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-8 mb-5 mb-xl-0"},[a("card",{attrs:{type:"default","header-classes":"bg-transparent"}},[a("div",{staticClass:"row align-items-center",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"col"},[0===e.feverChart.activeIndex?a("h6",{staticClass:"text-muted text-uppercase ls-1 mb-1"},[e._v(" Today ("+e._s((new Date).toLocaleDateString())+") ")]):a("h6",{staticClass:"text-light text-uppercase ls-1 mb-1"},[e._v(" Course ")]),a("h5",{staticClass:"h3 text-white mb-0"},[e._v("Temperature/Pulse")]),a("small",{staticClass:"text-white"},[e._v("Temperature in °C")])]),a("div",{staticClass:"col"},[a("ul",{staticClass:"nav nav-pills justify-content-end"},[a("li",{staticClass:"nav-item mr-2 mr-md-0"},[a("a",{staticClass:"nav-link py-2 px-3",class:{active:0===e.feverChart.activeIndex},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.initBigChart(0)}}},[a("span",{staticClass:"d-none d-md-block"},[e._v("Day")]),a("span",{staticClass:"d-md-none"},[e._v("D")])])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link py-2 px-3",class:{active:1===e.feverChart.activeIndex},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.initBigChart(1)}}},[a("span",{staticClass:"d-none d-md-block"},[e._v("Course")]),a("span",{staticClass:"d-md-none"},[e._v("C")])])])])])]),a("line-chart",{attrs:{height:350,"v-if":e.feverChart.loaded,"chart-data":e.feverChart.chartData,"extra-options":e.feverChart.extraOptions}})],1)],1),a("div",{staticClass:"col-xl-4"},[a("card",{attrs:{"header-classes":"bg-transparent"}},[a("div",{staticClass:"row align-items-center",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"col"},[0===e.redBarChart.activeIndex?a("h6",{staticClass:"text-muted text-uppercase ls-1 mb-1"},[e._v(" Today ("+e._s((new Date).toLocaleDateString())+") ")]):a("h6",{staticClass:"text-uppercase text-muted ls-1 mb-1"},[e._v(" Course ")]),a("h5",{staticClass:"h3 mb-0"},[e._v("Fluid Input/Output")]),a("small",[e._v("in ml")])]),a("div",{staticClass:"col"},[a("ul",{staticClass:"nav nav-pills justify-content-end"},[a("li",{staticClass:"nav-item mr-2 mr-md-0"},[a("a",{staticClass:"nav-link py-2 px-3",class:{active:0===e.redBarChart.activeIndex},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.initBarChart(0)}}},[a("span",{staticClass:"d-none d-md-block"},[e._v("Day")]),a("span",{staticClass:"d-md-none"},[e._v("D")])])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link py-2 px-3",class:{active:1===e.redBarChart.activeIndex},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.initBarChart(1)}}},[a("span",{staticClass:"d-none d-md-block"},[e._v("Course")]),a("span",{staticClass:"d-md-none"},[e._v("C")])])])])])]),a("bar-chart",{ref:"barChart",attrs:{height:350,"chart-data":e.redBarChart.chartData}})],1)],1)])]:e._e()],2)]):a("div",[a("div",{staticClass:"container-fluid mt--7"},[this.reportData?[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-8 mb-5 mb-xl-0"},[a("card",{attrs:{type:"default","header-classes":"bg-transparent"}},[a("div",{staticClass:"row align-items-center",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"col"},[0===e.respChart.activeIndex?a("h6",{staticClass:"text-muted text-uppercase ls-1 mb-1"},[e._v(" Today ("+e._s((new Date).toLocaleDateString())+") ")]):a("h6",{staticClass:"text-light text-uppercase ls-1 mb-1"},[e._v(" Course ")]),a("h5",{staticClass:"h3 text-white mb-0"},[e._v(" Respirations/Blood Pressure ")]),a("small",{staticClass:"text-white"},[e._v("-")])]),a("div",{staticClass:"col"},[a("ul",{staticClass:"nav nav-pills justify-content-end"},[a("li",{staticClass:"nav-item mr-2 mr-md-0"},[a("a",{staticClass:"nav-link py-2 px-3",class:{active:0===e.respChart.activeIndex},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.initRespChart(0)}}},[a("span",{staticClass:"d-none d-md-block"},[e._v("Day")]),a("span",{staticClass:"d-md-none"},[e._v("D")])])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link py-2 px-3",class:{active:1===e.respChart.activeIndex},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.initRespChart(1)}}},[a("span",{staticClass:"d-none d-md-block"},[e._v("Course")]),a("span",{staticClass:"d-md-none"},[e._v("C")])])])])])]),a("line-chart",{attrs:{height:350,"v-if":e.respChart.loaded,"chart-data":e.respChart.chartData,"extra-options":e.respChart.extraOptions}})],1)],1),a("div",{staticClass:"col-xl-4"},[a("card",{attrs:{"header-classes":"bg-transparent"}},[a("div",{staticClass:"row align-items-center",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"col"},[0===e.balanceChart.activeIndex?a("h6",{staticClass:"text-muted text-uppercase ls-1 mb-1"},[e._v(" Today ("+e._s((new Date).toLocaleDateString())+") ")]):a("h6",{staticClass:"text-uppercase text-muted ls-1 mb-1"},[e._v(" Course ")]),a("h5",{staticClass:"h3 mb-0"},[e._v("Fluid Balance")]),a("small",[e._v("in ml")])]),a("div",{staticClass:"col"},[a("ul",{staticClass:"nav nav-pills justify-content-end"},[a("li",{staticClass:"nav-item mr-2 mr-md-0"},[a("a",{staticClass:"nav-link py-2 px-3",class:{active:0===e.balanceChart.activeIndex},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.initBalanceChart(0)}}},[a("span",{staticClass:"d-none d-md-block"},[e._v("Day")]),a("span",{staticClass:"d-md-none"},[e._v("D")])])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link py-2 px-3",class:{active:1===e.balanceChart.activeIndex},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.initBalanceChart(1)}}},[a("span",{staticClass:"d-none d-md-block"},[e._v("Course")]),a("span",{staticClass:"d-md-none"},[e._v("C")])])])])])]),a("bar-chart",{ref:"balanceChart",attrs:{height:350,"chart-data":e.balanceChart.chartData}})],1)],1)])]:e._e()],2)]),a("div",{staticClass:"divider"}),a("div",{staticClass:"container-fluid"},[a("ul",{staticClass:"nav nav-pills justify-content-end"},[a("li",{staticClass:"nav-item mb-2 mr-2 mr-md-0"},[a("a",{staticClass:"nav-link py-2 px-3",class:{active:!0===e.charts1},attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.charts1=!0}}},[a("span",{staticClass:"d-none d-md-block"},[e._v("Temperature, Pulse, Fluid Input/Output")]),a("span",{staticClass:"d-md-none"},[e._v("Temperature, Pulse, Fluid Input/Output")])])]),a("li",{staticClass:"nav-item mb-2 mr-2 mr-md-0"},[a("a",{staticClass:"nav-link py-2 px-3",class:{active:!1===e.charts1},attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.charts1=!1}}},[a("span",{staticClass:"d-none d-md-block"},[e._v("Respiration, Blood Pressure, Fluid Balance")]),a("span",{staticClass:"d-md-none"},[e._v("Respiration, Blood Pressure, Fluid Balance")])])])])]),a("div",{staticClass:"container-fluid mt--2"},[this.reportData?[a("div",{staticClass:"row mt-5"},[a("div",{staticClass:"col-xl-12 mb-5 mb-xl-0"},[a("report",{attrs:{id:this.id,data:this.reportData.history}})],1)]),a("div",{staticClass:"row mt-5"},[a("div",{staticClass:"col-xl-12 mb-5 mb-xl-0"},[a("reports-table",{attrs:{id:this.id}})],1)])]:e._e()],2)],1)},n=[],r=(a("4de4"),a("c975"),a("a15b"),a("d81d"),a("13d5"),a("fb6a"),a("a9e3"),a("b680"),a("b64b"),a("d3b7"),a("ac1f"),a("3ca3"),a("5319"),a("ddb0"),a("2b3d"),a("96cf"),a("1da1")),i=a("b85c"),o=a("5530"),l=(a("4160"),a("159b"),a("53ca"));function c(e,t){for(var a in t)"object"!==Object(l["a"])(t[a])?e[a]=t[a]:c(e[a],t[a])}var d={mode:"light",fonts:{base:"Open Sans"},colors:{gray:{100:"#f6f9fc",200:"#e9ecef",300:"#dee2e6",400:"#ced4da",500:"#adb5bd",600:"#8898aa",700:"#525f7f",800:"#32325d",900:"#212529"},theme:{default:"#172b4d",primary:"#5e72e4",secondary:"#f4f5f7",info:"#11cdef",success:"#2dce89",danger:"#f5365c",warning:"#fb6340"},black:"#12263F",white:"#FFFFFF",transparent:"transparent"}};function u(e){var t=d.colors,a=d.mode,s=d.fonts,n={defaults:{global:{responsive:!0,maintainAspectRatio:!1,defaultColor:"dark"==a?t.gray[700]:t.gray[600],defaultFontColor:"dark"==a?t.gray[700]:t.gray[600],defaultFontFamily:s.base,defaultFontSize:13,layout:{padding:0},legend:{display:!0,position:"bottom",labels:{usePointStyle:!0,padding:26}},elements:{point:{radius:4,backgroundColor:t.theme["primary"]},line:{tension:.4,borderWidth:4,borderColor:t.theme["primary"],backgroundColor:t.transparent,borderCapStyle:"rounded"},rectangle:{backgroundColor:t.theme["warning"]},arc:{backgroundColor:t.theme["primary"],borderColor:"dark"==a?t.gray[800]:t.white,borderWidth:4}},tooltips:{enabled:!0,mode:"index",intersect:!1}},doughnut:{cutoutPercentage:83,legendCallback:function(e){var t=e.data,a="";return t.labels.forEach((function(e,s){var n=t.datasets[0].backgroundColor[s];a+='<span class="chart-legend-item">',a+='<i class="chart-legend-indicator" style="background-color: '+n+'"></i>',a+=e,a+="</span>"})),a}}}};return e.scaleService.updateScaleDefaults("linear",{gridLines:{borderDash:[2],borderDashOffset:[2],color:"dark"==a?t.gray[900]:t.gray[300],drawBorder:!1,drawTicks:!1,lineWidth:0,zeroLineWidth:0,zeroLineColor:"dark"==a?t.gray[900]:t.gray[300],zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{beginAtZero:!0}}),e.scaleService.updateScaleDefaults("category",{gridLines:{drawBorder:!1,drawOnChartArea:!1,drawTicks:!1},offset:!0,ticks:{beginAtZero:!0,padding:20}}),n}function h(e){c(e,u(e))}var p={maintainAspectRatio:!1,legend:{display:!1},responsive:!0},b=(d.colors.gray[700],d.colors.gray[700],Object(o["a"])(Object(o["a"])({},p),{},{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},responsive:!0,scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{max:50,stepSize:5,padding:20,fontColor:"#9e9e9e"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9e9e9e"}}]}}),Object(o["a"])(Object(o["a"])({},p),{},{cutoutPercentage:70,tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{display:0,ticks:{display:!1},gridLines:{drawBorder:!1,zeroLineColor:"transparent",color:"rgba(255,255,255,0.05)"}}],xAxes:[{display:0,barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(255,255,255,0.1)",zeroLineColor:"transparent"},ticks:{display:!1}}]}}),Object(o["a"])(Object(o["a"])({},p),{},{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:0,suggestedMax:125,padding:20,fontColor:"#9a9a9a"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(225,78,202,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9a9a9a"}}]}}),Object(o["a"])(Object(o["a"])({},p),{},{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:0,suggestedMax:110,padding:20,fontColor:"#ff8a76"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(220,53,69,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#ff8a76"}}]}}),Object(o["a"])(Object(o["a"])({},p),{},{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:0,suggestedMax:125,padding:20,fontColor:"#9e9e9e"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(0,242,195,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9e9e9e"}}]}}),{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.1)",zeroLineColor:"transparent"},ticks:{beginAtZero:!0,suggestedMin:0,padding:20,fontColor:"#9e9e9e"}}],xAxes:[{gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.1)",zeroLineColor:"transparent"},ticks:{beginAtZero:!0,padding:20,fontColor:"#9e9e9e"}}]}}),m=a("1fca"),f=a("30ef"),v=a.n(f),_={mounted:function(){h(v.a)}},g={name:"line-chart",extends:m["b"],mixins:[m["c"].reactiveProp,_],props:{extraOptions:{type:Object,default:function(){return{}}}},data:function(){return{ctx:null}},mounted:function(){var e=this;this.$watch("chartData",(function(t,a){a||e.renderChart(e.chartData,e.extraOptions)}),{immediate:!0})}},y={name:"bar-chart",extends:m["a"],mixins:[m["c"].reactiveProp,_],props:{extraOptions:{type:Object,default:function(){return{}}}},data:function(){return{ctx:null}},mounted:function(){var e=this;this.$watch("chartData",(function(t,a){a||e.renderChart(e.chartData,e.extraOptions)}),{immediate:!0})}},w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.reportData?a("div",{staticClass:"card"},[a("div",{staticClass:"card-header border-0"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col"},[a("h3",{staticClass:"mb-0"},[e._v("Current report of "+e._s(e.reportData.patient_name))])])])]),a("div",{staticClass:"table-responsive"},[a("base-table",{attrs:{"thead-classes":"thead-light",data:e.reportData.history},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("th",{attrs:{scope:"row"}},[e._v(" "+e._s(s.history_id)+" ")]),a("td",[e._v(" "+e._s(e.formatDate(s.datetime))+" ")]),a("td",[e._v(" "+e._s(s.fever)+" ")]),a("td",[e._v(" "+e._s(s.pulse)+" ")]),a("td",[e._v(" "+e._s(s.fi_total)+" ")]),a("td",[e._v(e._s(s.fo_total))]),a("td",[a("i",{staticClass:"fas fa-circle text-success mr-3",class:"febrile"===s.status?"text-success":"text-danger"}),e._v(" "+e._s(s.status)+" ")])]}}],null,!1,48497803)},[a("template",{slot:"columns"},[a("th",[e._v("ID")]),a("th",[e._v("Date and Time")]),a("th",[e._v("Fever")]),a("th",[e._v("Pulse")]),a("th",[e._v("Fluid Input")]),a("th",[e._v("Fluid Output")]),a("th",[e._v("Status")])])],2)],1)]):e._e()},C=[],k={name:"reports-table",props:["id"],data:function(){return{tableData:[]}},methods:{formatDate:function(e){var t={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};return new Intl.DateTimeFormat("en-GB",t).format(new Date(e))}},beforeDestroy:function(){clearInterval(this.reportData)},computed:{reportData:function(){return this.$store.getters.getReportById(Number(this.id))}}},j=k,x=a("2877"),D=Object(x["a"])(j,w,C,!1,null,null,null),O=D.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header border-0"},[a("tabs",[a("tab",{attrs:{title:"Dengue Diagnosis"}},[a("dengue-form",{attrs:{patient_id:e.id}})],1),a("tab",{attrs:{title:"Patient Chart"}},[a("report-data-form",{attrs:{id:e.id,data:e.data}})],1)],1)],1)])},S=[],E=a("9e82"),R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],staticClass:"tab-pane",class:{active:e.active},attrs:{id:e.id||e.title}},[e._t("default")],2)},I=[],H={name:"tab-pane",props:{title:{type:String,default:"",description:"Tab pane title"},id:{type:String,default:null,description:"Tab pane id"}},inject:["addTab","removeTab"],data:function(){return{active:!1}},mounted:function(){this.addTab(this)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeTab(this)}},L=H,P=Object(x["a"])(L,R,I,!1,null,null,null),z=P.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("tbody",[a("tr",[a("th",[e._v(e._s(e.hasReportData?"Edit/Delete":"Create a report"))]),e._l(e.sortedHistory,(function(t,s){return a("td",{key:s},[a("base-button",{staticClass:"btn btn-sm",attrs:{icon:"fas fa-edit",type:"primary"},on:{click:function(a){return e.showEditModal(t.history_id)}}}),a("base-button",{staticClass:"btn btn-sm",attrs:{icon:"fas fa-trash-alt",type:"danger"},on:{click:function(a){return e.deleteReport(t.history_id)}}})],1)})),a("td",["tables"!==this.$route.name?a("div",{staticClass:"col text-center minInputColumnWidth10Rem"},[a("button",{staticClass:"btn btn-sm btn-primary ",on:{click:function(t){e.hasReportData?e.addReport():e.createReport()}}},[e._v(" "+e._s(e.hasReportData?"Add Report":"Create Report")+" ")])]):e._e()])],2),e.hasReportData?[a("tr",[a("th",[e._v("Day")]),e._l(e.sortedHistory,(function(t,s){return a("th",{key:s,staticClass:"text-center"},[e._v("Day "+e._s(Math.round(Math.abs((new Date(t.datetime)-new Date(t.created_at))/864e5+1)))+" ")])}))],2),a("report-row-component",{attrs:{name:e.daytime.name,suffix:e.daytime.placeholder,history:e.getHistoryFor(e.daytime.backend_id)}}),a("report-row-component",{attrs:{name:e.time.name,history:e.getHistoryFor(e.time.backend_id),transformHistoryItem:function(e){return e?new Date(e).toLocaleDateString():""}}}),a("report-row-component",{attrs:{name:e.day_of_fever.name,suffix:e.day_of_fever.placeholder,history:e.getHistoryFor(e.day_of_fever.backend_id)}}),a("report-row-component",{attrs:{name:e.fever.name,suffix:e.fever.placeholder,history:e.getHistoryFor(e.fever.backend_id)}}),a("report-row-component",{attrs:{name:e.pulse.name,suffix:e.pulse.placeholder,history:e.getHistoryFor(e.pulse.backend_id)}}),a("report-row-component",{attrs:{name:e.respiration.name,suffix:e.respiration.placeholder,history:e.getHistoryFor(e.respiration.backend_id)}}),a("report-row-component",{attrs:{name:e.bp_sys.name,suffix:e.bp_sys.placeholder,history:e.getHistoryFor(e.bp_sys.backend_id)}}),a("report-row-component",{attrs:{name:e.bp_dia.name,suffix:e.bp_dia.placeholder,history:e.getHistoryFor(e.bp_dia.backend_id)}}),a("report-row-component",{attrs:{name:e.diet.name,suffix:e.diet.placeholder,history:e.getHistoryFor(e.diet.backend_id)}}),e._m(0),a("report-row-component",{attrs:{name:e.fi_oral.name,suffix:e.fi_oral.placeholder,history:e.getHistoryFor(e.fi_oral.backend_id)}}),a("report-row-component",{attrs:{name:e.fi_parenteral.name,suffix:e.fi_parenteral.placeholder,history:e.getHistoryFor(e.fi_parenteral.backend_id)}}),a("report-row-component",{attrs:{name:e.fi_other.name,suffix:e.fi_other.placeholder,history:e.getHistoryFor(e.fi_other.backend_id)}}),a("report-row-component",{attrs:{name:e.fi_eight_hrs.name,suffix:e.fi_eight_hrs.placeholder,history:e.getHistoryFor(e.fi_eight_hrs.backend_id)}}),a("report-row-component",{attrs:{name:e.fi_total.name,suffix:e.fi_total.placeholder,history:e.getHistoryTotalFor([e.fi_oral.backend_id,e.fi_parenteral.backend_id,e.fi_other.backend_id,e.fi_eight_hrs.backend_id])}}),e._m(1),a("report-row-component",{attrs:{name:e.fo_urine.name,suffix:e.fo_urine.placeholder,history:e.getHistoryFor(e.fo_urine.backend_id)}}),a("report-row-component",{attrs:{name:e.fo_uf.name,suffix:e.fo_uf.placeholder,history:e.getHistoryFor(e.fo_uf.backend_id)}}),a("report-row-component",{attrs:{name:e.fo_emesis.name,suffix:e.fo_emesis.placeholder,history:e.getHistoryFor(e.fo_emesis.backend_id)}}),a("report-row-component",{attrs:{name:e.fo_drainage.name,suffix:e.fo_drainage.placeholder,history:e.getHistoryFor(e.fo_drainage.backend_id)}}),a("report-row-component",{attrs:{name:e.fo_eight_hrs.name,suffix:e.fo_eight_hrs.placeholder,history:e.getHistoryFor(e.fo_eight_hrs.backend_id)}}),a("report-row-component",{attrs:{name:e.fo_total.name,suffix:e.fo_total.placeholder,history:e.getHistoryTotalFor([e.fo_urine.backend_id,e.fo_uf.backend_id,e.fo_emesis.backend_id,e.fo_drainage.backend_id,e.fo_eight_hrs])}}),a("report-row-component",{attrs:{name:e.pain_score.name,suffix:e.pain_score.placeholder,history:e.getHistoryFor(e.pain_score.backend_id)}}),a("report-row-component",{attrs:{name:e.abd_cir.name,suffix:e.abd_cir.placeholder,history:e.getHistoryFor(e.abd_cir.backend_id)}}),a("report-row-component",{attrs:{name:e.stools.name,suffix:e.stools.placeholder,history:e.getHistoryFor(e.stools.backend_id)}}),a("report-row-component",{attrs:{name:e.weight.name,suffix:e.weight.placeholder,history:e.getHistoryFor(e.weight.backend_id)}}),a("report-row-component",{attrs:{name:e.height.name,suffix:e.height.placeholder,history:e.getHistoryFor(e.height.backend_id)}}),a("report-row-component",{attrs:{name:e.o2sat.name,suffix:e.o2sat.placeholder,history:e.getHistoryFor(e.o2sat.backend_id)}}),a("report-row-component",{attrs:{name:e.hematocrit.name,suffix:e.hematocrit.placeholder,history:e.getHistoryFor(e.hematocrit.backend_id)}}),a("report-row-component",{attrs:{name:e.platelet.name,suffix:e.platelet.placeholder,history:e.getHistoryFor(e.platelet.backend_id)}}),a("report-row-component",{attrs:{name:e.wbc.name,suffix:e.wbc.placeholder,history:e.getHistoryFor(e.wbc.backend_id)}}),a("report-row-component",{attrs:{name:e.status.name,suffix:e.status.placeholder,history:e.getHistoryFor(e.status.backend_id)}}),a("report-row-component",{attrs:{name:e.monitoring_interval.name,suffix:e.monitoring_interval.placeholder,history:e.getHistoryFor(e.monitoring_interval.backend_id)}}),a("report-row-component",{attrs:{name:e.warning_signs.name,suffix:e.warning_signs.placeholder,history:e.getHistoryFor(e.warning_signs.backend_id)}}),a("report-row-component",{attrs:{name:e.additional.name,suffix:e.additional.placeholder,history:e.getHistoryFor(e.additional.backend_id)}}),a("report-row-component",{attrs:{name:e.medical_advice.name,suffix:e.medical_advice.placeholder,history:e.getHistoryFor(e.medical_advice.backend_id)}}),a("tr",[e._m(2),e._l(e.sortedHistory,(function(t,s){return a("td",{key:s},[e._v(" "+e._s(t.history_user_name)+" ")])})),a("td")],2)]:e._e()],2)]),e.editModal?a("report-modal",{attrs:{show:e.editModal,input:e.getReportFromHistory(e.selectedHistoryId),firstEntry:!e.hasReportData,patientNumber:e.patientNumber,statusOptions:e.status.statusOptions,daytimes:e.daytime.statusOptions,intervals:e.monitoring_interval.statusOptions},on:{"update:show":function(t){e.editModal=t},close:e.onCloseModal}}):e._e()],1)},$=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("FLUID"),a("br"),e._v("INTAKE")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("FLUID"),a("br"),e._v("OUTPUT")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("th",[e._v("Created"),a("br"),e._v("By")])}],A=(a("7db0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",{staticClass:"text-wrap",attrs:{width:"30%",title:e.name}},[e.heading?a("h4",[e._v(e._s(e.name))]):a("span",[e._v(e._s(e.name))])]),e._l(e.history,(function(t,s){return a("td",{key:s},[a("div",{staticClass:"wordbreak"},[e._v(" "+e._s(e.prefix)+" "+e._s(e.transformHistoryItem?e.transformHistoryItem(t):t)+" "+e._s(e.suffix)+" ")])])})),a("td",[e._t("default")],2)],2)}),N=[],T={props:{name:String,heading:Boolean,prefix:String,suffix:String,history:Array,transformHistoryItem:Function}},M=T,q=Object(x["a"])(M,A,N,!1,null,null,null),J=q.exports,U=(a("b0c0"),a("257e")),V=a("262e"),W=a("2caf"),G=a("d4ec"),Z=a("bee2"),K=a("ade3"),X=function(){function e(t,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(G["a"])(this,e),Object(K["a"])(this,"backend_id",void 0),Object(K["a"])(this,"name",void 0),Object(K["a"])(this,"placeholder",void 0),Object(K["a"])(this,"value",void 0),Object(K["a"])(this,"validators",[]),this.backend_id=t,this.name=a,this.placeholder=s,this.value=n}return Object(Z["a"])(e,[{key:"clearData",value:function(){this.value=null}},{key:"validator",value:function(){var e=this,t=this.validators.map((function(t){return t(e)})).filter((function(e){return e})),a={};return a[this.name]=t,0===t.length?null:a}}]),e}(),Y=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){return Object(G["a"])(this,a),t.apply(this,arguments)}return Object(Z["a"])(a,[{key:"getJsonName",value:function(){return this.name}},{key:"getJsonValue",value:function(){return this.value}},{key:"setJsonValue",value:function(e){this.value=e}}]),a}(X),Q=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){return Object(G["a"])(this,a),t.apply(this,arguments)}return Object(Z["a"])(a,[{key:"data",get:function(){return{name:this.name,backend_id:this.backend_id,placeholder:this.placeholder}}}]),a}(Y),ee=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(e,s,n,r,i){var o;return Object(G["a"])(this,a),o=t.call(this,e,s,n,r),Object(K["a"])(Object(U["a"])(o),"statusOptions",void 0),o.statusOptions=i,o}return Object(Z["a"])(a,[{key:"data",get:function(){return{name:this.name,statusOptions:this.statusOptions,placeholder:this.placeholder}}}]),a}(Q);function te(e){return e.map((function(e){return{option:e}}))}function ae(){return te([se,ne,re])}var se="Positive",ne="Negative",re="---",ie=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(e,s,n,r,i){var o;return Object(G["a"])(this,a),o=t.call(this,e,s,n,r),Object(K["a"])(Object(U["a"])(o),"items",void 0),o.items=i,o}return Object(Z["a"])(a,[{key:"getJsonValue",value:function(){var e,t=0,a=Object(i["a"])(this.items);try{for(a.s();!(e=a.n()).done;){var s=e.value;t+=+s.value||0}}catch(n){a.e(n)}finally{a.f()}return t}}]),a}(Q);function oe(e){return e instanceof X}function le(e){return e instanceof Y}var ce=a("ccf3"),de={props:["id","data"],components:{ReportRowComponent:J,BaseButton:ce["a"]},data:function(){var e=new Q("fi_oral","Oral Fluids","ml"),t=new Q("fi_parenteral","Parenteral","ml"),a=new Q("fi_other","Other","ml"),s=new Q("fi_eight_hrs","In 8 Hrs.","ml"),n=new Q("fo_urine","Urine","ml"),r=new Q("fo_uf","UF","ml"),i=new Q("fo_emesis","Emesis","ml"),o=new Q("fo_drainage","Drainage","ml"),l=new Q("fo_eight_hrs","In 8 Hrs.","ml");return{day_of_fever:new Q("day_of_fever","Day of Fever"),fever:new Q("fever","Fever","°C"),pulse:new Q("pulse","Pulse"),respiration:new Q("respiration","Respiration"),bp_sys:new Q("bp_sys","Blood Pressure"),bp_dia:new Q("bp_dia","Diastolic"),diet:new Q("diet","Diet"),fi_oral:e,fi_parenteral:t,fi_other:a,fi_eight_hrs:s,fi_total:new ie("fi_total","Total","ml",null,[e,t,a,s]),fo_urine:n,fo_uf:r,fo_emesis:i,fo_drainage:o,fo_eight_hrs:l,fo_total:new ie("fo_total","Total","ml",null,[n,r,i,o,l]),pain_score:new Q("pain_score","Pain Score"),abd_cir:new Q("abd_cir","Abd. Cir.","cm"),stools:new Q("stools","Stools"),weight:new Q("weight","Weight","kg"),height:new Q("height","Height","kg"),o2sat:new Q("o2sat","O2 Sat","%"),hematocrit:new Q("hematocrit","Hematocrit","%"),platelet:new Q("platelet","Platelet Count"),wbc:new Q("wbc","WBC Count"),fluid_intake:new Q("fluid_intake","Fluid Intake"),fluid_output:new Q("fluid_output","Fluid Output"),daytime:new ee("daytime","Daytime",null,null,[{option:"D"},{option:"E"},{option:"N"}]),status:new ee("status","Status",null,null,[{option:"febrile"},{option:"critical"},{option:"recovery"}]),monitoring_interval:new ee("monitoring_interval","Monitoring Interval","hourly",null,[{option:1},{option:2},{option:4},{option:6}]),warning_signs:new Q("warning_signs","Warning Signs"),additional:new Q("additional","Additional Info"),medical_advice:new Q("medical_advice","Medical Advice"),editModal:!1,updated_at:null,patientNumber:null,time:new Q("datetime","Time"),history_id:null,urine:new Y("urine","Urine"),weight_ht:null}},computed:{report:function(){try{return this.$store.getters.getReportById(Number(this.id))}catch(e){return console.log(e),null}},sortedHistory:function(){if(this.report){var e=this.report.history;return e.sort((function(e,t){return new Date(e.datetime)-new Date(t.datetime)}))}return[]},hasReport:function(){return null!==this.report&&void 0!==this.report},hasReportData:function(){return null!==this.report&&void 0!==this.report&&this.report.history[0]},backendJson:function(){var e=this,t={};return Object.keys(this.$data).forEach((function(a){var s=e.$data[a];if(le(s)){var n=s.getJsonValue();t[s.backend_id]=n}})),t["updated_at"]=Date.now(),t["patient"]=this.id,t}},methods:{openDateTimePicker:function(e){var t=this.$refs[e].$el.firstChild.nextElementSibling;t&&t.click()},getHistoryFor:function(e){var t=[];return this.sortedHistory.forEach((function(a){t.push(a[e])})),t},getHistoryTotalFor:function(e){var t=[];return this.sortedHistory.forEach((function(a){var s=0;e.forEach((function(e){s+=+a[e]||0})),t.push(s)})),t},getReportFromHistory:function(e){return e?this.data.find((function(t){return t.history_id===e})):this.backendJson},showEditModal:function(e){this.selectedHistoryId=e,this.editModal=!0,document.body.classList.add("modal-open")},onCloseModal:function(){this.editModal=!1,document.body.classList.remove("modal-open")},createReport:function(){this.showEditModal(null)},addReport:function(){this.patientNumber=this.report.pk,this.showEditModal(null)},deleteReport:function(e){confirm("Do you really want to delete this Report?")&&this.$store.dispatch("deleteReport",{id:e})},clearData:function(){var e=this;Object.keys(this.$data).forEach((function(t){var a=e.$data[t];oe(a)&&a.clearData()})),this.date=null}},destroyed:function(){document.body.classList.remove("modal-open")}},ue=de,he=(a("7603"),Object(x["a"])(ue,B,$,!1,null,null,null)),pe=he.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("tabs",[a("tab",{attrs:{title:"General Information"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:e.infos.age.name,suffix:e.infos.age.placeholder}},[a("report-row-number",{attrs:{placeholder:e.infos.age.placeholder,max:"100"},model:{value:e.infos.age.value,callback:function(t){e.$set(e.infos.age,"value",t)},expression:"infos.age.value"}})],1)],1)]),a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:e.infos.occ2.name}},[a("report-row-select",{attrs:{statusOptions:e.infos.occ2.statusOptions},model:{value:e.infos.occ2.value,callback:function(t){e.$set(e.infos.occ2,"value",t)},expression:"infos.occ2.value"}})],1)],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:e.infos.ud2.name}},[a("report-row-select",{attrs:{statusOptions:e.infos.ud2.statusOptions},model:{value:e.infos.ud2.value,callback:function(t){e.$set(e.infos.ud2,"value",t)},expression:"infos.ud2.value"}})],1)],1)])])]),a("tab",{attrs:{title:"Symptoms"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:e.symptoms.nausea.name}},[a("report-row-select",{attrs:{statusOptions:e.symptoms.nausea.statusOptions},model:{value:e.symptoms.nausea.value,callback:function(t){e.$set(e.symptoms.nausea,"value",t)},expression:"symptoms.nausea.value"}})],1)],1)]),a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:e.symptoms.petechiae.name}},[a("report-row-select",{attrs:{statusOptions:e.symptoms.petechiae.statusOptions},model:{value:e.symptoms.petechiae.value,callback:function(t){e.$set(e.symptoms.petechiae,"value",t)},expression:"symptoms.petechiae.value"}})],1)],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:e.symptoms.myalgia.name}},[a("report-row-select",{attrs:{statusOptions:e.symptoms.myalgia.statusOptions},model:{value:e.symptoms.myalgia.value,callback:function(t){e.$set(e.symptoms.myalgia,"value",t)},expression:"symptoms.myalgia.value"}})],1)],1)]),a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:e.symptoms.bleeding.name}},[a("report-row-select",{attrs:{statusOptions:e.symptoms.bleeding.statusOptions},model:{value:e.symptoms.bleeding.value,callback:function(t){e.$set(e.symptoms.bleeding,"value",t)},expression:"symptoms.bleeding.value"}})],1)],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:"Bleeding Categories",heading:""}},[a("div",{staticClass:"col text-center"},[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:e.toggleShowCategories}},[e._v(" "+e._s(e.showCategories?"Hide":"Show")+" Bleeding Categories ")])])])],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[e.showCategories?a("report-row-component",{attrs:{name:e.symptoms.gum_bleeding.name}},[a("report-row-select",{attrs:{statusOptions:e.symptoms.gum_bleeding.statusOptions},model:{value:e.symptoms.gum_bleeding.value,callback:function(t){e.$set(e.symptoms.gum_bleeding,"value",t)},expression:"symptoms.gum_bleeding.value"}})],1):e._e()],1)]),a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[e.showCategories?a("report-row-component",{attrs:{name:e.symptoms.gastrointestinal_bleeding.name}},[a("report-row-select",{attrs:{statusOptions:e.symptoms.gastrointestinal_bleeding.statusOptions},model:{value:e.symptoms.gastrointestinal_bleeding.value,callback:function(t){e.$set(e.symptoms.gastrointestinal_bleeding,"value",t)},expression:"symptoms.gastrointestinal_bleeding.value"}})],1):e._e()],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[e.showCategories?a("report-row-component",{attrs:{name:e.symptoms.epistaxis.name}},[a("report-row-select",{attrs:{statusOptions:e.symptoms.epistaxis.statusOptions},model:{value:e.symptoms.epistaxis.value,callback:function(t){e.$set(e.symptoms.epistaxis,"value",t)},expression:"symptoms.epistaxis.value"}})],1):e._e()],1)]),a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[e.showCategories?a("report-row-component",{attrs:{name:e.symptoms.menstrual_bleeding.name}},[a("report-row-select",{attrs:{statusOptions:e.symptoms.menstrual_bleeding.statusOptions},model:{value:e.symptoms.menstrual_bleeding.value,callback:function(t){e.$set(e.symptoms.menstrual_bleeding,"value",t)},expression:"symptoms.menstrual_bleeding.value"}})],1):e._e()],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[e.showCategories?a("report-row-component",{attrs:{name:e.symptoms.other_mucosal_bleeding.name}},[a("report-row-select",{attrs:{statusOptions:e.symptoms.other_mucosal_bleeding.statusOptions},model:{value:e.symptoms.other_mucosal_bleeding.value,callback:function(t){e.$set(e.symptoms.other_mucosal_bleeding,"value",t)},expression:"symptoms.other_mucosal_bleeding.value"}})],1):e._e()],1)]),a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[e.showCategories?a("report-row-component",{attrs:{name:e.symptoms.other_bleeding.name}},[a("report-row-select",{attrs:{statusOptions:e.symptoms.other_bleeding.statusOptions},model:{value:e.symptoms.other_bleeding.value,callback:function(t){e.$set(e.symptoms.other_bleeding,"value",t)},expression:"symptoms.other_bleeding.value"}})],1):e._e()],1)])])]),a("tab",{attrs:{title:"Lab Results"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:e.lab_results.tourniquettest.name}},[a("report-row-select",{attrs:{statusOptions:e.lab_results.tourniquettest.statusOptions},model:{value:e.lab_results.tourniquettest.value,callback:function(t){e.$set(e.lab_results.tourniquettest,"value",t)},expression:"lab_results.tourniquettest.value"}})],1)],1)]),a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:e.lab_results.ns1.name}},[a("report-row-select",{attrs:{statusOptions:e.lab_results.ns1.statusOptions},model:{value:e.lab_results.ns1.value,callback:function(t){e.$set(e.lab_results.ns1,"value",t)},expression:"lab_results.ns1.value"}})],1)],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:e.lab_results.ast.name,suffix:e.lab_results.ast.placeholder}},[a("report-row-number",{attrs:{placeholder:e.lab_results.ast.placeholder},model:{value:e.lab_results.ast.value,callback:function(t){e.$set(e.lab_results.ast,"value",t)},expression:"lab_results.ast.value"}})],1)],1)]),a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:e.lab_results.alt.name,suffix:e.lab_results.alt.placeholder}},[a("report-row-number",{attrs:{placeholder:e.lab_results.alt.placeholder},model:{value:e.lab_results.alt.value,callback:function(t){e.$set(e.lab_results.alt,"value",t)},expression:"lab_results.alt.value"}})],1)],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:e.lab_results.plt.name,suffix:e.lab_results.plt.placeholder}},[a("report-row-number",{attrs:{placeholder:e.lab_results.plt.placeholder},model:{value:e.lab_results.plt.value,callback:function(t){e.$set(e.lab_results.plt,"value",t)},expression:"lab_results.plt.value"}})],1)],1)]),a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:e.lab_results.hct_d0.name,suffix:e.lab_results.hct_d0.placeholder}},[a("report-row-number",{attrs:{placeholder:e.lab_results.hct_d0.placeholder},model:{value:e.lab_results.hct_d0.value,callback:function(t){e.$set(e.lab_results.hct_d0,"value",t)},expression:"lab_results.hct_d0.value"}})],1)],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:e.lab_results.wbc_d0.name,suffix:e.lab_results.wbc_d0.placeholder}},[a("report-row-number",{attrs:{placeholder:e.lab_results.wbc_d0.placeholder},model:{value:e.lab_results.wbc_d0.value,callback:function(t){e.$set(e.lab_results.wbc_d0,"value",t)},expression:"lab_results.wbc_d0.value"}})],1)],1)]),a("div",{staticClass:"col table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:e.lab_results.lymp_d0.name,suffix:e.lab_results.lymp_d0.placeholder}},[a("report-row-number",{attrs:{placeholder:e.lab_results.lymp_d0.placeholder},model:{value:e.lab_results.lymp_d0.value,callback:function(t){e.$set(e.lab_results.lymp_d0,"value",t)},expression:"lab_results.lymp_d0.value"}})],1)],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:e.lab_results.atypl_d0.name,suffix:e.lab_results.atypl_d0.placeholder}},[a("report-row-number",{attrs:{placeholder:e.lab_results.atypl_d0.placeholder},model:{value:e.lab_results.atypl_d0.value,callback:function(t){e.$set(e.lab_results.atypl_d0,"value",t)},expression:"lab_results.atypl_d0.value"}})],1)],1)])])])],1),a("table",{staticClass:"table table-hover",attrs:{id:"dengue-diagnosis","thead-classes":"thead-light"}},[e._m(0),e.hasNoReport?a("tr",[a("td",[a("div",{staticClass:"col text-center"},[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:e.createDengueReport}},[e._v(" Get Dengue Probability ")])])]),a("td",[a("card",{attrs:{type:"default"}},[a("h5",{staticClass:"h3 text-white mb-0",attrs:{id:"dengue-probability"}},[e._v(" "+e._s(e.dengue_probability)+" ")])])],1)]):a("tr",[a("td",[a("div",{staticClass:"col text-center"},[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:e.editDengueReport}},[e._v(" Update Dengue Report ")])])]),a("td",[a("dengue-probability-card",{attrs:{dengue_probability:parseInt(100*e.dengue_probability)}}),a("div",{staticClass:"p-4"}),a("sensitivity-analysis-card",{attrs:{sensitivity_analysis:e.sensitivity_analysis}})],1)])]),a("disease-diagnosis",{attrs:{patient_id:e.patient_id}})],1)},me=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[a("h3",{staticClass:"text-uppercase"},[e._v("Dengue Probability")])])])}],fe=(a("99af"),a("4fad"),a("3835")),ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-input",e._g(e._b({attrs:{type:"number",id:"id",value:e.value,placeholder:e.place(e.placeholder),min:"0",oninput:"validity.valid||(value='');"}},"base-input",e.$attrs,!1),e.$listeners))},_e=[],ge={props:["value","placeholder"],methods:{place:function(e){return e?"in "+e:null}}},ye=ge,we=Object(x["a"])(ye,ve,_e,!1,null,null,null),Ce=we.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("select",{directives:[{name:"model",rawName:"v-model",value:e.key,expression:"key"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.key=t.target.multiple?a:a[0]},function(t){return e.onChange(t)}]}},e._l(e.statusOptions,(function(t){return a("option",{key:t.option,attrs:{type:"text"},domProps:{value:t.option}},[e._v(" "+e._s(t.option)+" ")])})),0)},je=[],xe={props:["statusOptions","value"],created:function(){this.key=this.value},data:function(){return{key:""}},watch:{value:function(e){null===e&&(this.key=e)}},methods:{onChange:function(e){this.$emit("input",e.target.value)}}},De=xe,Oe=Object(x["a"])(De,ke,je,!1,null,null,null),Fe=Oe.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("card",{attrs:{type:"default"}},[a("h2",{staticClass:"text-white mb-0"},[e._v("Current dengue probabilty: ")]),a("h3",{staticClass:"text-white mb-0"},[e._v(e._s(e.dengue_probability)+"% ")])])},Ee=[],Re={props:["dengue_probability"]},Ie=Re,He=Object(x["a"])(Ie,Se,Ee,!1,null,null,null),Le=He.exports,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("card",{staticStyle:{"white-space":"pre-wrap"},attrs:{type:"default"}},[a("h2",{staticClass:"text-white"},[e._v("The following data could have an impact on the diagnosis.")]),e.highSensitivity?a("div",[a("h2",{staticClass:"text-red mt-2"},[e._v("High impact")]),e._l(e.highSensitivity,(function(t){return a("h3",{key:t,staticClass:"text-red mb-0",attrs:{value:t}},[e._v(e._s(t))])}))],2):e._e(),e.mediumSensitivity?a("div",[a("h2",{staticClass:"text-yellow mt-2"},[e._v("Medium impact")]),e._l(e.mediumSensitivity,(function(t){return a("h3",{key:t,staticClass:"text-yellow mb-0",attrs:{value:t}},[e._v(e._s(t))])}))],2):e._e(),e.lowSensitivity?a("div",[a("h2",{staticClass:"text-white mt-2"},[e._v("Low impact")]),e._l(e.lowSensitivity,(function(t){return a("h3",{key:t,staticClass:"text-white mb-0",attrs:{value:t}},[e._v(e._s(t))])}))],2):e._e()])},ze=[],Be=(a("07ac"),30),$e=15,Ae=5,Ne=10,Te={props:["sensitivity_analysis"],computed:{sensitivity_analysis_max_count:function(){return this.sensitivity_analysis?this.sensitivity_analysis.filter((function(e){return e})).slice(0,Ne):{}},highSensitivity:function(){for(var e=[],t=0,a=Object.values(this.sensitivity_analysis_max_count);t<a.length;t++){var s=a[t];s&&Me(s.value)>=Be&&e.push(s.name+"\n")}return e.empty?null:e},mediumSensitivity:function(){for(var e=[],t=0,a=Object.values(this.sensitivity_analysis_max_count);t<a.length;t++){var s=a[t];s&&Me(s.value)>=$e&&Me(s.value)<Be&&e.push(s.name+"\n")}return e.empty?null:e},lowSensitivity:function(){for(var e=[],t=0,a=Object.values(this.sensitivity_analysis_max_count);t<a.length;t++){var s=a[t];s&&Me(s.value)>=Ae&&Me(s.value)<$e&&e.push(s.name+"\n")}return e.empty?null:e}}};function Me(e){return Math.floor(100*e)}var qe=Te,Je=Object(x["a"])(qe,Pe,ze,!1,null,null,null),Ue=Je.exports,Ve=(a("dca8"),function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){return Object(G["a"])(this,a),t.apply(this,arguments)}return Object(Z["a"])(a,[{key:"toSMILEEngine",value:function(){console.debug("to smile engine not implemented: SmileEngineSelectComponent"),console.debug(this)}}]),a}(ee)),We=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){return Object(G["a"])(this,a),t.apply(this,arguments)}return Object(Z["a"])(a,[{key:"toSMILEEngine",value:function(){console.debug("to smile engine not implemented: SmileEngineJsonRowItem"),console.debug(this)}}]),a}(Y),Ge=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){return Object(G["a"])(this,a),t.apply(this,arguments)}return Object(Z["a"])(a,[{key:"toSMILEEngine",value:function(){console.debug("to smile engine not implemented: SmileEngineJsonRowItem"),console.debug(this)}}]),a}(Q),Ze=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(e,s,n,r){return Object(G["a"])(this,a),t.call(this,e,s,n,r,ae())}return Object(Z["a"])(a,[{key:"toSMILEEngine",value:function(){switch(this.value){case se:return"Yes";case ne:return"No";case re:case null:return null;default:return console.debug("Unknown value: ".concat(this.value," in component ").concat(this.name,"!")),null}}}]),a}(Ve),Ke=Object.freeze({r1_13:"r1_13",r13_45:"r13_45"}),Xe=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(e,s){var n;return Object(G["a"])(this,a),n=t.call(this,"ast_alt","AST ALT",null,null),n.ast=e,n.alt=s,n}return Object(Z["a"])(a,[{key:"getJsonValue",value:function(){return console.debug("ast_alt getJsonValue"),this.ast.value+this.alt.value}},{key:"toSMILEEngine",value:function(){if(this.ast.value&&this.alt.value&&0!==this.alt.value){var e=this.ast.value/this.alt.value;return!e||e<0?(console.debug("".concat(this.name," out of range. Value: ").concat(e,".")),null):e<=1.3?Ke.r1_13:e<=4.5?Ke.r13_45:(console.debug("".concat(this.name," out of range. Value: ").concat(e,".")),null)}return console.debug("".concat(this.name," missing values. AST: ").concat(this.ast.value,". ALT: ").concat(this.ast.value,".")),null}}]),a}(We),Ye=Object.freeze({gum_bleeding:"gum_bleeding",gastrointestinal_bleeding:"gastrointestinal_bleeding",epistaxis:"epistaxis",menstrual_bleeding:"menstrual_bleeding",other_mucosal_bleeding:"other_mucosal_bleeding",other_bleeding:"other_bleeding"}),Qe=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(e,s,n,r,i,o){var l;return Object(G["a"])(this,a),l=t.call(this,"bleeding_categories","Bleeding Categories",null,null),l.gum_bleeding=e,l.gastrointestinal_bleeding=s,l.epistaxis=n,l.menstrual_bleeding=r,l.other_mucosal_bleeding=i,l.other_bleeding=o,l}return Object(Z["a"])(a,[{key:"getJsonValue",value:function(){var e=[this.gum_bleeding.value?this.gum_bleeding.backend_id:null,this.gastrointestinal_bleeding.value?this.gastrointestinal_bleeding.backend_id:null,this.epistaxis.value?this.epistaxis.backend_id:null,this.menstrual_bleeding.value?this.menstrual_bleeding.backend_id:null,this.other_mucosal_bleeding.value?this.other_mucosal_bleeding.backend_id:null,this.other_bleeding.value?this.other_bleeding.backend_id:null].filter((function(e){return e}));return e.length>0?e:null}},{key:"toSMILEEngine",value:function(){var e=[];return this.gum_bleeding.value===se?e.push(Ye.gum_bleeding):this.gastrointestinal_bleeding.value===se?e.push(Ye.gastrointestinal_bleeding):this.epistaxis.value===se?e.push(Ye.gastroinepistaxistestinal_bleeding):this.menstrual_bleeding.value===se?e.push(Ye.menstrual_bleeding):this.other_mucosal_bleeding.value===se?e.push(Ye.other_mucosal_bleeding):this.other_bleeding.value===se&&e.push(Ye.other_bleeding),e.length>0?e:null}}]),a}(We),et=Object.freeze({a15_20:"a15_20",a21_55:"a21_55",a56_80:"a56_80"}),tt=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"age","Age",null,e)}return Object(Z["a"])(a,[{key:"toSMILEEngine",value:function(){return!this.value||this.value<15?(console.debug("Age is out of range, too young, value: ".concat(this.value,".")),null):this.value<=20?et.a15_20:this.value<=55?et.a21_55:this.value<=80?et.a56_80:(console.debug("Age is out of range, too old, value: ".concat(this.value,".")),null)}}]),a}(Ge),at=Object.freeze({Employee:"Employee",Officer:"Officer",Student:"Student",Other:"Other"}),st=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"occ2","Occupation",null,e,te([at.Employee,at.Officer,at.Student,at.Other]))}return Object(Z["a"])(a,[{key:"toSMILEEngine",value:function(){switch(this.value){case at.Employee:return at.Employee;case at.Officer:return at.Officer;case at.Student:return at.Student;case at.Other:return at.Other;case null:return null;default:return console.debug("Unknown value: ".concat(this.value," in component ").concat(this.name,"!")),null}}}]),a}(Ve),nt=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"UD2","Underlying Disease",null,e)}return a}(Ze),rt=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"incidencerate","Incidence Rate",null,e)}return a}(Ge),it=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"nausea","Nausea",null,e)}return a}(Ze),ot=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"petechiae","Petechiae",null,e)}return Object(Z["a"])(a,[{key:"toSMILEEngine",value:function(){switch(this.value){case se:return"s1";case ne:return"s0";case re:case null:return null;default:return console.debug("Unknown value: ".concat(this.value," in component ").concat(this.name,"!")),null}}}]),a}(Ze),lt=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"myalgia","Myalgia",null,e)}return a}(Ze),ct=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"bleeding","Bleeding",null,e)}return a}(Ze),dt=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"gum_bleeding","Gum bleeding",null,e)}return a}(Ze),ut=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"gastrointestinal_bleeding","Gastrointestinal bleeding",null,e)}return a}(Ze),ht=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"epistaxis","Epistaxis",null,e)}return a}(Ze),pt=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){return Object(G["a"])(this,a),t.call(this,"menstrual_bleeding","Menstrual bleeding",null,null)}return a}(Ze),bt=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"other_mucosal_bleeding","Other mucosal bleeding",null,e)}return a}(Ze),mt=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"other_bleeding","Other bleeding",null,e)}return a}(Ze),ft=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"tourniquettest","Tourniquet Test",null,e)}return Object(Z["a"])(a,[{key:"toSMILEEngine",value:function(){switch(this.value){case se:return"s1";case ne:return"s0";case re:case null:return null;default:return console.debug("Unknown value: ".concat(this.value," in component ").concat(this.name,"!")),null}}}]),a}(Ze),vt=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"NS1","NS1 Rapid Test",null,e)}return Object(Z["a"])(a,[{key:"toSMILEEngine",value:function(){switch(this.value){case se:return"Positive";case ne:return"Negative";case re:case null:return null;default:return console.debug("Unknown value: ".concat(this.value," in component ").concat(this.name,"!")),null}}}]),a}(Ze),_t=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"ast","AST","IU/L",e)}return a}(Q),gt=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"alt","ALT","IU/L",e)}return a}(Q),yt=Object.freeze({r0_106:"r0_106",r106_178:"r106_178",r178_590:"r178_590"}),wt=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"plt","Platelets","Cell/mm³",e)}return Object(Z["a"])(a,[{key:"toSMILEEngine",value:function(){return!this.value||this.value<0?(console.debug("".concat(this.name," out of range. Value: ").concat(this.value,".")),null):this.value<=106?yt.r0_106:this.value<=178?yt.r106_178:this.value<=590?yt.r178_590:(console.debug("".concat(this.name," out of range. Value: ").concat(this.value,".")),null)}}]),a}(Ge),Ct=Object.freeze({r0_328:"r0_328",r328_560:"r328_560"}),kt=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"hct_d0","Hematocrit","%",e)}return Object(Z["a"])(a,[{key:"toSMILEEngine",value:function(){return!this.value||this.value<0?(console.debug("".concat(this.name," out of range. Value: ").concat(this.value,".")),null):this.value<=32.8?Ct.r0_328:this.value<=56?Ct.r328_560:(console.debug("".concat(this.name," out of range. Value: ").concat(this.value,".")),null)}}]),a}(Ge),jt=Object.freeze({r0_35:"r0_35",r35_45:"r35_45",r45_73:"r45_73",r73_260:"r73_260"}),xt=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"wbc_d0","White blood cells","10³/μL",e)}return Object(Z["a"])(a,[{key:"toSMILEEngine",value:function(){return!this.value||this.value<0?(console.debug("".concat(this.name," out of range. Value: ").concat(this.value,".")),null):this.value<=3.5?jt.r0_35:this.value<=4.5?jt.r35_45:this.value<=7.3?jt.r45_73:this.value<=26?jt.r73_260:(console.debug("".concat(this.name," out of range. Value: ").concat(this.value,".")),null)}}]),a}(Ge),Dt=Object.freeze({r0_17:"r0_17",r17_61:"r17_61"}),Ot=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"lymp_d0","Lymphocytes","%",e)}return Object(Z["a"])(a,[{key:"toSMILEEngine",value:function(){return!this.value||this.value<0?(console.debug("".concat(this.name," out of range. Value: ").concat(this.value,".")),null):this.value<=17?Dt.r0_17:this.value<=61?Dt.r17_61:(console.debug("".concat(this.name," out of range. Value: ").concat(this.value,".")),null)}}]),a}(Ge),Ft=Object.freeze({r0_1:"r0_1",r1_5:"r1_5",r5_45:"r5_45"}),St=function(e){Object(V["a"])(a,e);var t=Object(W["a"])(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(G["a"])(this,a),t.call(this,"atypl_d0","Atypical Lymphocytes","%",e)}return Object(Z["a"])(a,[{key:"toSMILEEngine",value:function(){return!this.value||this.value<0?(console.debug("".concat(this.name," out of range. Value: ").concat(this.value,".")),null):this.value<=1?Ft.r0_1:this.value<=5?Ft.r1_5:this.value<=45?Ft.r5_45:(console.debug("".concat(this.name," out of range. Value: ").concat(this.value,".")),null)}}]),a}(Ge),Et=function(){function e(){Object(G["a"])(this,e)}return Object(Z["a"])(e,null,[{key:"create",value:function(e,t){switch(e){case"occ2":return new st(t);case"age":return new tt(t);case"bleeding":return new ct(t);case"gum_bleeding":return new dt(t);case"gastrointestinal_bleeding":return new ut(t);case"epistaxis":return new ht(t);case"other_mucosal_bleeding":return new bt(t);case"other_bleeding":return new mt(t);case"incidence_nolag":return new rt(t);case"UD2":return new nt(t);case"NS1":return new vt(t);case"wbc_d0":return new xt(t);case"plt":return new wt(t);case"lymp_d0":return new Ot(t);case"hct_d0":return new kt(t);case"atypl_d0":return new St(t);case"ast":return new _t(t);case"alt":return new gt(t);case"tourniquettest":return new ft(t);case"nausea":return new it(t);case"petechiae":return new ot(t);case"myalgia":return new lt(t);case"AST_ALT":return Object(o["a"])(Object(o["a"])({},new Xe),{},{value:t});case"feverdays":return null;default:throw Error("Cannot find backend_id: "+e)}}}]),e}(),Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4 col-md-6 table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:this.disease_label}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.disease,expression:"disease"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.disease=t.target.multiple?a:a[0]},this.update_disease_diagnosis]}},e._l(this.disease_options,(function(t){return a("option",{key:t,attrs:{type:"text"},domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)])],1)]),a("div",{staticClass:"col-lg-4 col-md-6 table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:this.disease_diagnosis_status_label}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.disease_diagnosis_status,expression:"disease_diagnosis_status"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.disease_diagnosis_status=t.target.multiple?a:a[0]},this.update_disease_diagnosis]}},e._l(this.disease_diagnosis_status_options,(function(t){return a("option",{key:t,attrs:{type:"text"},domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)])],1)]),a("div",{staticClass:"col-lg-4 col-md-12 table-responsive"},[a("table",{staticClass:"table table-hover",attrs:{"thead-classes":"thead-light"}},[a("report-row-component",{attrs:{name:this.disease_diagnosis_note_label}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.disease_diagnosis_note,expression:"disease_diagnosis_note"}],staticClass:"form-control",domProps:{value:e.disease_diagnosis_note},on:{change:this.update_disease_diagnosis,input:function(t){t.target.composing||(e.disease_diagnosis_note=t.target.value)}}})])],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.inform_healthcare_workers,expression:"inform_healthcare_workers"}],attrs:{id:"inform_healthcare_workers_checkbox",type:"checkbox"},domProps:{checked:Array.isArray(e.inform_healthcare_workers)?e._i(e.inform_healthcare_workers,null)>-1:e.inform_healthcare_workers},on:{change:[function(t){var a=e.inform_healthcare_workers,s=t.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);s.checked?i<0&&(e.inform_healthcare_workers=a.concat([r])):i>-1&&(e.inform_healthcare_workers=a.slice(0,i).concat(a.slice(i+1)))}else e.inform_healthcare_workers=n},this.update_healthcare_workers_info]}}),a("label",{staticClass:"ml-2",attrs:{for:"inform_healthcare_workers_checkbox"}},[e._v(" Inform Healthcare Workers ")])]),a("div",{staticClass:"col-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.requires_hospitalization,expression:"requires_hospitalization"}],attrs:{id:"requires_hospitalization_checkbox",type:"checkbox"},domProps:{checked:Array.isArray(e.requires_hospitalization)?e._i(e.requires_hospitalization,null)>-1:e.requires_hospitalization},on:{change:[function(t){var a=e.requires_hospitalization,s=t.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);s.checked?i<0&&(e.requires_hospitalization=a.concat([r])):i>-1&&(e.requires_hospitalization=a.slice(0,i).concat(a.slice(i+1)))}else e.requires_hospitalization=n},this.update_requires_hospitalization]}}),a("label",{staticClass:"ml-2",attrs:{for:"requires_hospitalization_checkbox"}},[e._v(" Requires Hospitalization ")])])]),a("div",[a("base-button",{staticClass:"mb-5",staticStyle:{marginTop:"40px"},attrs:{type:"btn btn-block btn-primary",icon:"fas fa-clock",size:"md"},on:{click:function(t){return e.confirmDengue()}}},[e._v("Create Diagnose ")])],1),a("div",{staticClass:"row my-4 mt-6"},[a("button",{staticClass:"btn btn-block btn-secondary d-flex justify-content-around",on:{click:e.toggle_show_addresses}},[a("span",[e._v(" "+e._s(this.show_hide_mapping[this.show_healthcare_workers_addresses])+" "),a("strong",[e._v("Addresses for Healthcare Workers")])]),a("span",{staticClass:"badge badge-info"},[e._v(" "+e._s(this.healthcare_workers_addresses.length)+" Addresses ")])])]),e.show_healthcare_workers_addresses?a("div",[e._l(this.healthcare_workers_addresses,(function(t,s){return a("healthcare-workers-address",{key:s,attrs:{patient_id:e.patient_id,address_index:s,new:!1}})})),a("div",{staticClass:"d-flex justify-content-between"},[a("strong",[e._v("Adding a new address")]),a("button",{staticClass:"btn btn-primary",on:{click:e.add_address}},[e._v(" Add the address below ")])]),a("healthcare-workers-address",{key:this.healthcare_workers_addresses.length,attrs:{patient_id:e.patient_id,address_index:this.healthcare_workers_addresses.length,new:!0}})],2):e._e()])},It=[],Ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-4"},[this.new?e._e():a("strong",[e._v("Address "+e._s(this.address_index))]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 col-sm-12"},[a("label",{attrs:{for:"address-category-"+this.address_index}},[e._v(" Address Category ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.address_category,expression:"address_category"}],staticClass:"form-control",attrs:{id:"address-category-"+this.address_index},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.address_category=t.target.multiple?a:a[0]}}},e._l(e.address_categories,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)]),a("div",{staticClass:"col-md-6 col-sm-12"},[a("label",{attrs:{for:"address-note-"+this.address_index}},[e._v(" Address Note ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.address_note,expression:"address_note"}],staticClass:"form-control",attrs:{id:"address-note-"+this.address_index},domProps:{value:e.address_note},on:{input:function(t){t.target.composing||(e.address_note=t.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 col-sm-12"},[a("label",{attrs:{for:"address-textual-"+this.address_index}},[e._v(" Address ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.address_textual,expression:"address_textual"}],staticClass:"form-control",attrs:{id:"address-textual-"+this.address_index},domProps:{value:e.address_textual},on:{input:function(t){t.target.composing||(e.address_textual=t.target.value)}}})]),a("div",{staticClass:"col-md-3 col-sm-6"},[a("label",{attrs:{for:"address-geo-position-latitude-"+this.address_index}},[e._v(" Latitude ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.address_geo_position.latitude,expression:"address_geo_position.latitude"}],staticClass:"form-control",attrs:{type:"number",disabled:"",id:"address-geo-position-latitude-"+this.address_index},domProps:{value:e.address_geo_position.latitude},on:{input:function(t){t.target.composing||e.$set(e.address_geo_position,"latitude",t.target.value)}}})]),a("div",{staticClass:"col-md-3 col-sm-6"},[a("label",{attrs:{for:"address-geo-position-longitude-"+this.address_index}},[e._v(" Latitude ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.address_geo_position.longitude,expression:"address_geo_position.longitude"}],staticClass:"form-control",attrs:{type:"number",disabled:"",id:"address-geo-position-longitude-"+this.address_index},domProps:{value:e.address_geo_position.longitude},on:{input:function(t){t.target.composing||e.$set(e.address_geo_position,"longitude",t.target.value)}}})])])])},Lt=[],Pt={name:"healthcare-workers-address",props:{patient_id:{type:String,description:"ID of the Patient"},address_index:{type:Number,description:"Index of the address"},new:{type:Boolean,default:!1,description:"Marks a new address"}},components:{},created:function(){console.debug("Address component created")},data:function(){return{address_categories:["Home","Work","School"],address_category:"",address_note:"",address_textual:"",address_geo_position:{latitude:null,longitude:null}}},methods:{},computed:{},watch:{}},zt=Pt,Bt=Object(x["a"])(zt,Ht,Lt,!1,null,null,null),$t=Bt.exports,At={name:"disease-diagnosis",props:{patient_id:{type:String,description:"ID of the Patient"}},components:{ReportRowComponent:J,HealthcareWorkersAddress:$t},created:function(){console.debug("Disease Diagnosis created")},data:function(){return{disease_label:"Disease",disease_diagnosis_status_label:"Disease Diagnosis Status",disease_diagnosis_note_label:"Note",disease_model:this.disease,disease_diagnosis_status_model:this.disease_diagnosis_status,disease_options:["Dengue","DHF","Influenza","Other"],disease_diagnosis_status_options:["Not diagnosed","Suspected","Confirmed"],disease:"Dengue",disease_diagnosis_status:"Not diagnosed",disease_diagnosis_note:"",requires_hospitalization:!1,is_hospitalized:!1,inform_healthcare_workers:!1,informed_healthcare_workers:!1,healthcare_workers_addresses:[],show_healthcare_workers_addresses:!1,show_hide_mapping:{false:"Show",true:"Hide"}}},methods:{update_disease_diagnosis:function(){console.log("TODO: Modify disease diagnosis database entry")},update_healthcare_workers_info:function(){console.log("TODO: Modify healthacre workers database entry and send it")},update_requires_hospitalization:function(){console.log("TODO: Modify requires hospitalization in database")},toggle_show_addresses:function(){this.show_healthcare_workers_addresses=!this.show_healthcare_workers_addresses},add_address:function(){this.healthcare_workers_addresses.push(this.healthcare_workers_addresses.length),console.log("Address added")},confirmDengue:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.debug("confirm Diagnosis"),e.requires_hospitalization&&(console.debug("(createCaseForHealthcare) requiresHospitalization"),e.$store.dispatch("requiresHospitalization",{id:Number(e.patient_id)})),e.requires_hospitalization||e.$store.dispatch("dismissPatient",{id:Number(e.patient_id)});case 3:case"end":return t.stop()}}),t)})))()}},computed:{dengueStatus:function(){return"Dengue"==this.disease||"DHF"==this.disease?this.disease_diagnosis_status:null},confirmedDengue:function(){return null!=this.dengueStatus&&"Confirmed"==this.dengueStatus},suspectedDengue:function(){return null!=this.dengueStatus&&"Suspected"==this.dengueStatus}},watch:{}},Nt=At,Tt=Object(x["a"])(Nt,Rt,It,!1,null,null,null),Mt=Tt.exports,qt=function(){function e(){Object(G["a"])(this,e)}return Object(Z["a"])(e,null,[{key:"min",value:function(e){return function(t){return t.value?t.value>=e?null:"Min value: ".concat(e,", current: ").concat(t.value):null}}},{key:"max",value:function(e){return function(t){return t.value?t.value<=e?null:"Max value: ".concat(e,", current: ").concat(t.value):null}}},{key:"required",get:function(){return function(e){return e.value?null:"Required"}}}]),e}(),Jt=a("2f62"),Ut={props:["patient_id"],components:{Tabs:E["a"],Tab:z,ReportRowComponent:J,ReportRowSelect:Fe,ReportRowNumber:Ce,DengueProbabilityCard:Le,SensitivityAnalysisCard:Ue,DiseaseDiagnosis:Mt},created:function(){console.debug("created"),this.setValuesFromBackend(),this.hasNoFormErrors&&this.fetchSmileResults()},data:function(){var e=new _t,t=new gt,a=new dt,s=new ut,n=new ht,r=new pt,i=new bt,o=new mt,l=new st;l.validators=[qt.required];var c=new tt;return c.validators=[qt.required],{admission:null,dismissal:null,showCategories:!1,showDengueDiagnosis:!1,infos:{age:c,occ2:l,ud2:new nt,incidencerate:new rt},symptoms:{nausea:new it,petechiae:new ot,myalgia:new lt,bleeding:new ct,gum_bleeding:a,gastrointestinal_bleeding:s,epistaxis:n,menstrual_bleeding:r,other_mucosal_bleeding:i,other_bleeding:o,bleeding_categories:new Qe(a,s,n,r,i,o)},lab_results:{tourniquettest:new ft,ns1:new vt,ast:e,alt:t,plt:new wt,hct_d0:new kt,wbc_d0:new xt,lymp_d0:new Ot,atypl_d0:new St,ast_alt:new Xe(e,t)},final_diagnosis:{},disease:"Dengue",disease_diagnosis_status:"Not diagnosed",requires_hospitalization:!1,informed_healthcare_workers:!1,healthcareAddress:"",innerHealthcareAddress:""}},methods:{setValuesFromBackend:function(){var e=this,t=this.$store.getters.getDengueById(Number(this.patient_id));if(t){this.backend_id=t.id;var a={};Object.entries(t).map((function(e){return a[e[0].toLowerCase()]=e[1]})),Object.keys(this.dengueFormData).forEach((function(a){var s=e.dengueFormData[a],n=t[s.backend_id];s.setJsonValue(n)}))}},createCaseForHealthcare:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r,i,o,l,c,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.debug("create adress for Healthcare Worker Case"),e.confirmDengueButtonIsLoading=!0,s=localStorage.getItem("token"),n=new Headers,n.append("Authorization","Token "+s),n.append("Content-Type","application/json"),r=JSON.stringify({patient_id:e.patient_id,physicalAddress:null!==(a=e.innerHealthcareAddress)&&void 0!==a?a:"Uni Bremen",longitude:53.105166246,latitude:8.852163258}),i={method:"POST",headers:n,body:r,redirect:"follow"},o="https://social.informatik.uni-bremen.de/api/addresses/",t.next=11,fetch(o,i).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}));case 11:return console.debug("create Healthcare Worker Case"),l=new Headers,l.append("Authorization","Token "+s),l.append("Content-Type","application/json"),c=JSON.stringify({patient_id:e.patient_id}),d={method:"POST",headers:l,body:c,redirect:"follow"},u="https://social.informatik.uni-bremen.de/api/case/",t.next=20,fetch(u,d).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}));case 20:e.confirmDengueButtonIsLoading=!1;case 21:case"end":return t.stop()}}),t)})))()},confirmDengue:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.debug("confirm Diagnosis"),e.confirmDengueButtonIsLoading=!0,e.requiresHospitalization&&(console.debug("(createCaseForHealthcare) requiresHospitalization"),e.$store.dispatch("requiresHospitalization",{id:Number(e.patient_id)})),a=localStorage.getItem("token"),s=new Headers,s.append("Authorization","Token "+a),s.append("Content-Type","application/json"),n=JSON.stringify({patient_id:e.patient_id,disease_type:"Dengue",status:e.dengueStatus,note:"string",changed_by:e.user}),r={method:"POST",headers:s,body:n,redirect:"follow"},i="https://social.informatik.uni-bremen.de/api/diagnosis/",t.next=12,fetch(i,r).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}));case 12:if(!e.healthCareSelected){t.next=17;break}return t.next=15,e.createCaseForHealthcare();case 15:t.next=18;break;case 17:e.confirmDengueButtonIsLoading=!1;case 18:case"end":return t.stop()}}),t)})))()},toggleShowCategories:function(){this.showCategories=!this.showCategories},createDengueReport:function(){console.debug("createDengueReport"),this.formErrors?this.$store.dispatch("newNotification",this.formErrorNotification):(this.$store.dispatch("createDengue",this.backendJson),this.$store.dispatch("calculateDengueProbability",{id:Number(this.patient_id),smileEngineJson:this.smileEngineJson}))},changeProb:function(e){this.dengue_probability=e},editDengueReport:function(){console.debug("editDengueReport"),this.formErrors?this.$store.dispatch("newNotification",this.formErrorNotification):(this.$store.dispatch("editDengue",{id:this.backend_id,payload:this.backendJson}),this.$store.dispatch("calculateDengueProbability",{id:Number(this.patient_id),smileEngineJson:this.smileEngineJson}))},deleteDengueReport:function(){console.debug("deleteDengueReport"),this.$store.dispatch("deleteDengue",{id:this.backend_id}),this.clearForm()},clearForm:function(){var e=this;Object.keys(this.dengueFormData).forEach((function(t){var a=e.dengueFormData[t];oe(a)&&a.clearData()}))},fetchSmileResults:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.debug("fetchSmileResults"),e.$store.dispatch("calculateDengueProbability",{id:Number(e.patient_id),smileEngineJson:e.smileEngineJson});case 2:case"end":return t.stop()}}),t)})))()}},computed:Object(o["a"])(Object(o["a"])({},Object(Jt["b"])(["getSmileResult"])),{},{smileResult:function(){var e;return null!==(e=this.getSmileResult(Number(this.patient_id)))&&void 0!==e?e:{}},dengueFormData:function(){return Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},this.infos),this.symptoms),this.lab_results),this.final_diagnosis)},formErrors:function(){var e=this,t=[];return Object.keys(this.dengueFormData).forEach((function(a){var s=e.dengueFormData[a];if(s.validator){var n=s.validator();n&&t.push(n)}})),0===t.length?null:t},hasNoFormErrors:function(){return!this.formErrors},formErrorNotification:function(){var e=this.formErrors.map((function(e){return"".concat(Object.keys(e)[0]," (").concat(e[Object.keys(e)[0]].join(", "),")")})).join(", ");return[{title:"Invalid forms",message:e}]},hasReport:function(){var e=this.$store.getters.getDengueById(Number(this.patient_id));return!!e},hasNoReport:function(){return!this.hasReport},backendJson:function(){var e=this,t={};return Object.keys(this.dengueFormData).forEach((function(a){var s=e.dengueFormData[a];if(le(s)){var n=s.getJsonValue();n&&(t[s.backend_id]=n)}})),t["patient_id"]=this.patient_id,t},smileEngineJson:function(){var e=this,t={};return Object.keys(this.dengueFormData).forEach((function(a){var s=e.dengueFormData[a];if(s.toSMILEEngine){var n=s.toSMILEEngine();n&&(t[s.backend_id]=n)}})),t},dengue_probability:function(){var e,t=this.smileResult.dengue_probability;return t=null!==(e=t)&&void 0!==e?e:"Not enough data","string"!=typeof t&&(t=100*parseFloat(t).toFixed(4)+"%"),t},sensitivity_analysis:function(){var e=this.smileResult.impact_of_missing_inputs;return e?Object.entries(e).map((function(e){var t=Object(fe["a"])(e,2),a=t[0],s=t[1];return Et.create(a,s)})):[]},dengueStatus:function(){return this.confirmedDengue?"Confirmed":this.suspectedDengue?"Suspected":"Negative"},confirmedDengue:function(){return"Dengue"==this.disease&&"Confirmed"==this.disease_diagnosis_status},suspectedDengue:function(){return"Dengue"==this.disease&&"Suspected"==this.disease_diagnosis_status}}),watch:{confirmedDengue:function(e){e&&(this.suspectedDengue=!1)},suspectedDengue:function(e){e&&(this.confirmedDengue=!1)},hasReport:function(){var e=this.$store.getters.getDengueById(Number(this.patient_id));e&&(this.backend_id=e.id)},healthcareAddress:function(){this.innerHealthcareAddress=this.healthcareAddress},healthCareSelected:function(e){this.innerHealthcareAddress=e?this.healthcareAddress:""}}},Vt=Ut,Wt=Object(x["a"])(Vt,be,me,!1,null,null,null),Gt=Wt.exports,Zt={name:"report",props:["data","id"],components:{Tabs:E["a"],Tab:z,ReportDataForm:pe,DengueForm:Gt}},Kt=Zt,Xt=Object(x["a"])(Kt,F,S,!1,null,null,null),Yt=Xt.exports,Qt={components:{LineChart:g,BarChart:y,ReportsTable:O,Report:Yt},name:"patient",props:["id"],created:function(){console.log(this)},computed:Object(o["a"])(Object(o["a"])({reportData:function(){var e=this.$store.getters.getReportById(Number(this.id));return e||{}},patientData:function(){return this.$store.getters.getPatientById(Number(this.id))},ownNotifications:function(){return this.$store.getters.ownNotifications}},Object(Jt["b"])(["getSmileResult"])),{},{smileResult:function(){var e;return null!==(e=this.getSmileResult(Number(this.id)))&&void 0!==e?e:{}},dengueFormData:function(){return Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},this.infos),this.symptoms),this.lab_results),this.final_diagnosis)},dengue_probability:function(){var e,t=this.smileResult.dengue_probability;return t=null!==(e=t)&&void 0!==e?e:"Not enough data","string"!=typeof t&&(t=100*parseFloat(t).toFixed(4)+"%"),t},dengue_status:function(){return this.confirmedDengue?"Confirmed":this.suspectedDengue?"Suspected":"Negative"},dhf_probability:function(){var e,t=this.dhf_prob;return console.log(t),t=null!==(e=t)&&void 0!==e?e:"Not enough data","string"!=typeof t&&(t=100*parseFloat(t).toFixed(4)+"%"),t}}),data:function(){return{editModal:!1,charts1:!0,loaded:!1,dhf_prob:0,status:"",redBarChart:{activeIndex:0,chartData:{datasets:[{label:"",data:[]}]},extraOptions:b},balanceChart:{activeIndex:0,chartData:{datasets:[{label:"",data:[]}]},extraOptions:b},feverChart:{loaded:!1,activeIndex:0,chartData:{}},respChart:{loaded:!1,activeIndex:0,chartData:{}}}},methods:{logPatientData:function(){console.log(this.dengue_probability)},exportCSV:function(){var e=this.patientData.first_name+"_"+this.patientData.last_name,t=function(t){var a=new Blob([t],{type:"text/csv"}),s=window.URL.createObjectURL(a),n=document.createElement("a");n.setAttribute("hidden",""),n.setAttribute("href",s),n.setAttribute("download","".concat(e,".csv")),document.body.appendChild(n),n.click(),document.body.removeChild(n)},a=function(e){var t=[],a=Object.keys(e[0]);t.push(a.join(","));var s,n=Object(i["a"])(e);try{var r=function(){var e=s.value,n=a.map((function(t){var a=(""+e[t]).replace(/"/g,'\\"');return'"'.concat(a,'"')}));t.push(n.join(","))};for(n.s();!(s=n.n()).done;)r()}catch(o){n.e(o)}finally{n.f()}return t.join("\n")},s=a(this.reportData.history);t(s)},calcTimedelta:function(e){var t=new Date(e.datetime)-new Date(this.patientData.admission_date);return"Day "+(Math.round(Math.abs(t/864e5))+1)},dismissPatient:function(e){var t=e.id;this.$store.dispatch("dismissPatient",{id:t})},dhfPrediction:function(){if(null!=this.reportData)if(this.reportData.history){for(var e=[].slice.call(this.reportData.history).sort((function(e,t){return new Date(e.datetime)-new Date(t.datetime)})),t=null,a=null,s=0;s<e.length;s++)2==s&&(t=e[2].fever,a=e[2].pulse);if(this.loaded=!0,null!=t&&null!=a){console.log("fever day 3: "+t),console.log("pulse day 3: "+a);var n=new XMLHttpRequest,r="https://social.informatik.uni-bremen.de/dhf-api/dhf/demo/1",i="d03_temp_avg="+t+"&d03_pulse_rate_avg="+a;n.open("POST",r,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(this.dhf_prob=Math.round(100*n.responseText)+"%",100*n.responseText>=60&&(this.status="critical"))}.bind(this),n.send(i)}}else console.log("no report history yet. create more reports.")},weekFeverChart:function(){var e=[],t=[],a=[],s=null;if(null!=this.reportData&&this.reportData.history)for(var n=[].slice.call(this.reportData.history).sort((function(e,t){return new Date(e.datetime)-new Date(t.datetime)})),r=0;r<n.length;r++){if(-1===a.indexOf(this.calcTimedelta(n[r]))){a.push(this.calcTimedelta(n[r])),s=n.filter((function(e){return new Date(e.datetime).getDate()===new Date(n[r].datetime).getDate()}));var i=[],o=[];for(var l in s)i.push(parseFloat(s[l].fever)),o.push(parseInt(s[l].pulse));e.push(Math.max.apply(Math,i)),t.push(Math.max.apply(Math,o))}this.loaded=!0}this.feverChart.chartData={labels:a,datasets:[{label:"Fever",data:e},{label:"Pulse",data:t,borderColor:"#fb6340",backgroundColor:"#fb6340",fill:!1}]}},dayFeverChart:function(){var e=[],t=[],a=[],s=null,n=null,r=null;if(null!=this.reportData&&this.reportData.history)for(var i=[].slice.call(this.reportData.history).sort((function(e,t){return new Date(e.datetime)-new Date(t.datetime)})),o=0;o<i.length;o++)new Date(i[o].datetime).getDate()===(new Date).getDate()&&(s=i[o].fever,n=i[o].pulse,r=i[o].daytime,e.push(parseFloat(s)),t.push(parseFloat(n)),a.push(r)),this.loaded=!0;this.feverChart.chartData={labels:a,datasets:[{label:"Fever",data:e},{label:"Pulse",data:t,borderColor:"#fb6340",backgroundColor:"#fb6340",fill:!1}]}},dayFluidChart:function(){var e=[],t=[],a=[],s=null,n=null,r=null;if(null!=this.reportData&&this.reportData.history)for(var i=[].slice.call(this.reportData.history).sort((function(e,t){return new Date(e.datetime)-new Date(t.datetime)})),o=0;o<i.length;o++)new Date(i[o].datetime).getDate()===(new Date).getDate()&&(s=i[o].fi_total,n=i[o].fo_total,r=i[o].daytime,e.push(parseFloat(s)),t.push(parseFloat(n)),a.push(r)),this.loaded=!0;this.redBarChart.chartData={labels:a,datasets:[{label:"Input",data:e,borderColor:"#2dce89",backgroundColor:"#2dce89"},{label:"Output",data:t,borderColor:"#5e72e4",backgroundColor:"#5e72e4"}]}},weekFluidChart:function(){var e=[],t=[],a=[],s=null,n=[].slice.call(this.reportData.history).sort((function(e,t){return new Date(e.datetime)-new Date(t.datetime)}));if(console.log("sortedHistory"),console.log(n),null!=this.reportData&&this.reportData.history)for(var r=0;r<n.length;r++){if(-1===e.indexOf(this.calcTimedelta(n[r]))){e.push(this.calcTimedelta(n[r])),s=n.filter((function(e){return new Date(e.datetime).getDate()===new Date(n[r].datetime).getDate()}));var i=[],o=[];for(var l in s)i.push(parseFloat(s[l].fi_total)),o.push(parseInt(s[l].fo_total));t.push(i.reduce((function(e,t){return e+t}))),a.push(o.reduce((function(e,t){return e+t})))}this.loaded=!0}this.redBarChart.chartData={labels:e,datasets:[{label:"Input",data:t,borderColor:"#2dce89",backgroundColor:"#2dce89"},{label:"Output",data:a,borderColor:"#5e72e4",backgroundColor:"#5e72e4"}]}},checkStatus:function(){if(this.reportData&&this.reportData.history){var e=[].slice.call(this.reportData.history).sort((function(e,t){return new Date(e.datetime)-new Date(t.datetime)}));e.length>0&&(this.status=e[e.length-1].status)}},dayRespChart:function(){var e=[],t=[],a=[],s=[],n=null,r=null,i=null,o=null;if(null!=this.reportData&&this.reportData.history)for(var l=[].slice.call(this.reportData.history).sort((function(e,t){return new Date(e.datetime)-new Date(t.datetime)})),c=0;c<l.length;c++)new Date(l[c].datetime).getDate()===(new Date).getDate()&&(n=l[c].respiration,i=l[c].bp_dia,r=l[c].bp_sys,o=l[c].daytime,e.push(parseInt(n)),t.push(parseFloat(i)),a.push(parseFloat(r)),s.push(o)),this.loaded=!0;this.respChart.chartData={labels:s,datasets:[{label:"Respirations",data:e},{label:"Systolic",data:a,borderColor:"#fb6340",backgroundColor:"#fb6340",fill:!1},{label:"Diastolic",data:t,borderColor:"#f3a4b5",backgroundColor:"#f3a4b5",fill:!1}]}},weekRespChart:function(){var e=[],t=[],a=[],s=[],n=null;if(null!=this.reportData&&this.reportData.history)for(var r=[].slice.call(this.reportData.history).sort((function(e,t){return new Date(e.datetime)-new Date(t.datetime)})),i=0;i<r.length;i++){if(-1===s.indexOf(this.calcTimedelta(r[i]))){s.push(this.calcTimedelta(r[i])),n=r.filter((function(e){return new Date(e.datetime).getDate()===new Date(r[i].datetime).getDate()}));var o=[],l=[],c=[];for(var d in n)o.push(parseFloat(n[d].respiration)),l.push(parseInt(n[d].bp_dia)),c.push(parseInt(n[d].bp_sys));e.push(Math.max.apply(Math,o)),t.push(Math.max.apply(Math,l)),a.push(Math.max.apply(Math,c))}this.loaded=!0}this.respChart.chartData={labels:s,datasets:[{label:"Respirations",data:e},{label:"Systolic",data:a,borderColor:"#fb6340",backgroundColor:"#fb6340",fill:!1},{label:"Diastolic",data:t,borderColor:"#f3a4b5",backgroundColor:"#f3a4b5",fill:!1}]}},dayBalanceChart:function(){var e=[],t=[],a=null,s=null,n=null;if(null!=this.reportData&&this.reportData.history)for(var r=[].slice.call(this.reportData.history).sort((function(e,t){return new Date(e.datetime)-new Date(t.datetime)})),i=0;i<r.length;i++)new Date(r[i].datetime).getDate()===(new Date).getDate()&&(a=r[i].fi_total,s=r[i].fo_total,n=r[i].daytime,e.push(parseFloat(a)-parseFloat(s)),t.push(n)),this.loaded=!0;this.balanceChart.chartData={labels:t,datasets:[{label:"Balance",data:e,borderColor:"#2dce89",backgroundColor:"#2dce89"}]}},weekBalanceChart:function(){var e=[],t=[],a=null;if(null!=this.reportData&&this.reportData.history)for(var s=[].slice.call(this.reportData.history).sort((function(e,t){return new Date(e.datetime)-new Date(t.datetime)})),n=0;n<s.length;n++){if(-1===e.indexOf(this.calcTimedelta(s[n]))){e.push(this.calcTimedelta(s[n])),a=s.filter((function(e){return new Date(e.datetime).getDate()===new Date(s[n].datetime).getDate()}));var r=[],i=[],o=[];for(var l in a)r.push(parseFloat(a[l].fi_total)),i.push(parseInt(a[l].fo_total)),o.push(parseFloat(a[l].fi_total)-parseInt(a[l].fo_total));t.push(o.reduce((function(e,t){return e+t})))}this.loaded=!0}this.balanceChart.chartData={labels:e,datasets:[{label:"Balance",data:t.reverse(),borderColor:"#2dce89",backgroundColor:"#2dce89"}]}},initBigChart:function(e){this.feverChart.activeIndex=e,0===e?this.dayFeverChart():1===e&&this.weekFeverChart()},initBarChart:function(e){this.redBarChart.activeIndex=e,0===e?this.dayFluidChart():1===e&&this.weekFluidChart()},initRespChart:function(e){this.respChart.activeIndex=e,0===e?this.dayRespChart():1===e&&this.weekRespChart()},initBalanceChart:function(e){this.balanceChart.activeIndex=e,0===e?this.dayBalanceChart():1===e&&this.weekBalanceChart()}},watch:{reportData:function(){this.checkStatus(),this.initBigChart(0),this.initBarChart(0),this.initRespChart(0),this.initBalanceChart(0),this.dhfPrediction()}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.checkStatus(),e.initBigChart(0),e.initBarChart(0),e.initRespChart(0),e.initBalanceChart(0),e.dhfPrediction();case 6:case"end":return t.stop()}}),t)})))()}},ea=Qt,ta=(a("269d"),Object(x["a"])(ea,s,n,!1,null,"ef040b32",null));t["default"]=ta.exports},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc10","./be.js":"1fc10","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df48","./fa.js":"8df48","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b46","./gd.js":"f6b46","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117b","./ug-cn.js":"6117b","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=r,e.exports=n,n.id="4678"},"49fc":function(e,t,a){},"5aaf":function(e,t,a){},7603:function(e,t,a){"use strict";a("49fc")}}]);